debug: True
Some weights of the model checkpoint at bert-large-uncased were not used when initializing BertForMaskedLM: ['cls.seq_relationship.weight', 'cls.seq_relationship.bias']
- This IS expected if you are initializing BertForMaskedLM from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertForMaskedLM from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
Some weights of the model checkpoint at bert-large-uncased were not used when initializing BertForMaskedLM: ['cls.seq_relationship.weight', 'cls.seq_relationship.bias']
- This IS expected if you are initializing BertForMaskedLM from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertForMaskedLM from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
---------------------------------------- bert-large-uncased-anchor_type: Coordinate_remove_Y_PUNC_FULL-scorer_anchor:probAvg-op:concate_or_single ----------------------------------------
{
    "IsA": {
        "relation": "IsA",
        "def_sap": [
            "A [X] is a [MASK].",
            "A [X] is an [MASK].",
            "An [X] is a [MASK].",
            "An [X] is an [MASK]."
        ],
        "def_dap": [
            "A [X] or [Z] is a [MASK].",
            "A [X] or [Z] is an [MASK].",
            "An [X] or [Z] is a [MASK].",
            "An [X] or [Z] is an [MASK]."
        ],
        "lsp_sap": [
            "[MASK] such as [X].",
            "[MASK], including [X].",
            "[MASK], especially [X].",
            "[X] or other [MASK].",
            "[X] and other [MASK].",
            "such [MASK] as [X]."
        ],
        "lsp_dap": [
            "[MASK] such as [X] and [Z].",
            "[MASK], including [X] and [Z].",
            "[MASK], especially [X] and [Z].",
            "[X], [Z] and other [MASK].",
            "[X], [Z] or other [MASK].",
            "such [MASK] as [X] and [Z]."
        ],
        "use_dap": true,
        "anchor_target": "[X]",
        "anchor_lsp_sap": [
            "such as [X] and [MASK].",
            "such as [X] or [MASK].",
            "such as [X], [MASK],",
            "including [X] and [MASK].",
            "including [X] or [MASK].",
            "including [X], [MASK],",
            "especially [X] and [MASK].",
            "especially [X] or [MASK].",
            "especially [X], [MASK],",
            "[X], [MASK] or other",
            "[X], [MASK] and other"
        ]
    }
}
Processing IsA ... data/lm_diagnostic_extended/plural//IsA.jsonl
#Test_instances: 576
	 step1: get anchors (fill and filter)
--- def_sap
--- lsp_sap
relation: IsA 	 use_dap: True
	 step2: insert anchors
	 step3: fill mask in dap anchors

  0%|          | 0/5 [00:00<?, ?it/s]
 20%|██        | 1/5 [00:00<00:01,  2.61it/s]
 40%|████      | 2/5 [00:00<00:01,  2.55it/s]
 60%|██████    | 3/5 [00:01<00:00,  2.55it/s]
 80%|████████  | 4/5 [00:01<00:00,  2.53it/s]
100%|██████████| 5/5 [00:01<00:00,  2.56it/s]
100%|██████████| 5/5 [00:01<00:00,  2.55it/s]

  0%|          | 0/5 [00:00<?, ?it/s]
 20%|██        | 1/5 [00:01<00:05,  1.32s/it]
 40%|████      | 2/5 [00:02<00:03,  1.33s/it]
 60%|██████    | 3/5 [00:03<00:02,  1.33s/it]
 80%|████████  | 4/5 [00:05<00:01,  1.39s/it]
100%|██████████| 5/5 [00:06<00:00,  1.38s/it]
100%|██████████| 5/5 [00:06<00:00,  1.36s/it]

  0%|          | 0/5 [00:00<?, ?it/s]
 20%|██        | 1/5 [00:01<00:07,  1.96s/it]
 40%|████      | 2/5 [00:03<00:05,  1.98s/it]
 60%|██████    | 3/5 [00:05<00:03,  1.98s/it]
 80%|████████  | 4/5 [00:07<00:01,  1.99s/it]
100%|██████████| 5/5 [00:09<00:00,  1.98s/it]
100%|██████████| 5/5 [00:09<00:00,  1.98s/it]
            masked_sentences obj_label    sub_label relation  uuid  sub_position                                            def_sap                                            def_dap                                            lsp_sap                                            lsp_dap                                     anchor_lsp_sap                                  obj_mask_sentence                            obj_mask_sentence_score                                   obj_mask_def_sap                             obj_mask_def_sap_score                                   obj_mask_lsp_sap                             obj_mask_lsp_sap_score                                   subj_anchors                                 subj_anchors_score                  masked_sentences_with_subj_anchor                           def_dap_with_subj_anchor                           lsp_dap_with_subj_anchor                              subj_anchors_combined                              obj_mask_sentence_dap  \
0      [gravers are [MASK].]   [tools]      gravers      IsA     1             0  [A gravers is a [MASK]., A gravers is an [MASK...  [A gravers or [Z] is a [MASK]., A gravers or [...  [[MASK] such as gravers., [MASK], including gr...  [[MASK] such as gravers and [Z]., [MASK], incl...  [such as gravers and [MASK]., such as gravers ...  [tools, birds, flowers, trees, vehicles, fish,...  {'tools': 0.0003198588965460658, 'birds': 0.00...  [fish, tools, vegetables, birds, flowers, inse...  {'fish': 0.0017641726249166823, 'tools': 1.512...  [tools, vehicles, buildings, birds, trees, ins...  {'tools': 0.018772171961851807, 'vehicles': 0....       [tombs, graves, murderers, yes, burials]  {'tombs': 0.07710683718323708, 'graves': 0.076...  [gravers are [MASK]., gravers or tombs are [MA...  [A gravers or tombs is a [MASK]., A gravers or...  [[MASK] such as gravers and tombs., [MASK] suc...         gravers tombs graves murderers yes burials  [tools, trees, birds, flowers, vehicles, build...   
1  [smallmouths are [MASK].]    [fish]  smallmouths      IsA     2             0  [A smallmouths is a [MASK]., A smallmouths is ...  [A smallmouths or [Z] is a [MASK]., A smallmou...  [[MASK] such as smallmouths., [MASK], includin...  [[MASK] such as smallmouths and [Z]., [MASK], ...  [such as smallmouths and [MASK]., such as smal...  [fish, birds, trees, insects, tools, vehicles,...  {'fish': 2.7090427465736866e-05, 'birds': 1.27...  [fish, insects, birds, vegetables, trees, flow...  {'fish': 0.10547996137756854, 'insects': 3.941...  [fish, birds, insects, trees, tools, vehicles,...  {'fish': 0.382569320499897, 'birds': 0.0028654...    [catfish, carp, cerambycidae, snails, bass]  {'catfish': 0.6535259891640056, 'carp': 0.1299...  [smallmouths are [MASK]., smallmouths or catfi...  [A smallmouths or catfish is a [MASK]., A smal...  [[MASK] such as smallmouths and catfish., [MAS...  smallmouths catfish carp cerambycidae snails bass  [fish, birds, insects, tools, vehicles, trees,...   
2     [pelicans are [MASK].]   [birds]     pelicans      IsA     3             0  [A pelicans is a [MASK]., A pelicans is an [MA...  [A pelicans or [Z] is a [MASK]., A pelicans or...  [[MASK] such as pelicans., [MASK], including p...  [[MASK] such as pelicans and [Z]., [MASK], inc...  [such as pelicans and [MASK]., such as pelican...  [birds, fish, trees, insects, flowers, tools, ...  {'birds': 0.0014059370150789618, 'fish': 0.000...  [fish, birds, insects, vehicles, flowers, tree...  {'fish': 0.03015680331736803, 'birds': 0.00015...  [birds, fish, insects, vehicles, trees, flower...  {'birds': 0.4526221478978793, 'fish': 0.029593...      [dolphins, ducks, whales, turtles, birds]  {'dolphins': 0.19975277273492378, 'ducks': 0.0...  [pelicans are [MASK]., pelicans or dolphins ar...  [A pelicans or dolphins is a [MASK]., A pelica...  [[MASK] such as pelicans and dolphins., [MASK]...       pelicans dolphins ducks whales turtles birds  [birds, fish, insects, flowers, trees, vehicle...   
3   [sapsuckers are [MASK].]   [birds]   sapsuckers      IsA     4             0  [A sapsuckers is a [MASK]., A sapsuckers is an...  [A sapsuckers or [Z] is a [MASK]., A sapsucker...  [[MASK] such as sapsuckers., [MASK], including...  [[MASK] such as sapsuckers and [Z]., [MASK], i...  [such as sapsuckers and [MASK]., such as sapsu...  [birds, insects, fish, trees, tools, flowers, ...  {'birds': 0.0008124613086692989, 'insects': 0....  [fish, insects, birds, vegetables, flowers, tr...  {'fish': 0.014650166109277052, 'insects': 0.00...  [insects, birds, fish, trees, tools, vehicles,...  {'insects': 0.08345566596835852, 'birds': 0.00...  [snakes, spiders, lizards, vampires, beetles]  {'snakes': 0.2392467517744411, 'spiders': 0.08...  [sapsuckers are [MASK]., sapsuckers or snakes ...  [A sapsuckers or snakes is a [MASK]., A sapsuc...  [[MASK] such as sapsuckers and snakes., [MASK]...  sapsuckers snakes spiders lizards vampires bee...  [birds, insects, fish, trees, tools, flowers, ...   
4       [makoes are [MASK].]    [fish]       makoes      IsA     5             0  [A makoes is a [MASK]., A makoes is an [MASK]....  [A makoes or [Z] is a [MASK]., A makoes or [Z]...  [[MASK] such as makoes., [MASK], including mak...  [[MASK] such as makoes and [Z]., [MASK], inclu...  [such as makoes and [MASK]., such as makoes or...  [fish, birds, trees, flowers, vegetables, inse...  {'fish': 0.0006891120574437082, 'birds': 0.000...  [fish, insects, vegetables, birds, flowers, tr...  {'fish': 0.003905000582562934, 'insects': 9.13...  [fish, birds, trees, tools, insects, flowers, ...  {'fish': 0.008973646831388274, 'birds': 0.0082...             [human, tribe, slaves, man, peter]  {'human': 0.1374664157629013, 'tribe': 0.04116...  [makoes are [MASK]., makoes or human are [MASK...  [A makoes or human is a [MASK]., A makoes or t...  [[MASK] such as makoes and human., [MASK] such...                makoes human tribe slaves man peter  [birds, fish, trees, vegetables, flowers, inse...   

                         obj_mask_sentence_dap_score                                   obj_mask_def_dap                             obj_mask_def_dap_score                                   obj_mask_lsp_dap                             obj_mask_lsp_dap_score  
0  {'tools': 0.00018540601983355978, 'trees': 0.0...  [fish, tools, buildings, vehicles, birds, inse...  {'fish': 0.0001848250300145793, 'tools': 1.276...  [buildings, tools, vehicles, birds, trees, flo...  {'buildings': 0.006233788593010559, 'tools': 0...  
1  {'fish': 1.8712451795484714e-05, 'birds': 1.49...  [fish, insects, birds, flowers, vegetables, to...  {'fish': 0.14851518128498356, 'insects': 0.000...  [fish, insects, birds, tools, trees, vehicles,...  {'fish': 0.3308905985672027, 'insects': 0.0050...  
2  {'birds': 0.00037383646122179925, 'fish': 0.00...  [fish, birds, insects, vegetables, flowers, ve...  {'fish': 0.04060065915942914, 'birds': 0.00042...  [birds, fish, insects, vehicles, trees, flower...  {'birds': 0.33433718398834267, 'fish': 0.02362...  
3  {'birds': 0.00019479501073268088, 'insects': 0...  [fish, insects, birds, vegetables, flowers, to...  {'fish': 0.0019103694820074679, 'insects': 0.0...  [insects, birds, fish, trees, vehicles, vegeta...  {'insects': 0.22084369326087958, 'birds': 0.00...  
4  {'birds': 0.0005031602401383376, 'fish': 0.000...  [fish, insects, birds, vegetables, tools, flow...  {'fish': 0.002564860627141741, 'insects': 5.20...  [birds, fish, trees, insects, buildings, tools...  {'birds': 0.00294064183408409, 'fish': 0.00157...  
---------------------------------------- obj_label evaluation ----------------------------------------
      mask_type    p@1    p@5   p@10 relation  mAP@1  mAP@5  mAP@10  recall@10  anchor_wordnet_avg_path  anchor_wordnet_coverage  mask_type_id
0      sentence  100.0  100.0  100.0      IsA  100.0  100.0   100.0      100.0                     12.7                      0.8             1
3  sentence_dap   80.0  100.0  100.0      IsA   80.0   90.0    90.0      100.0                     12.7                      0.8             2
1       def_sap   40.0  100.0  100.0      IsA   40.0   66.7    66.7      100.0                     12.7                      0.8             3
4       def_dap   40.0  100.0  100.0      IsA   40.0   66.7    66.7      100.0                     12.7                      0.8             4
2       lsp_sap   80.0  100.0  100.0      IsA   80.0   90.0    90.0      100.0                     12.7                      0.8             5
5       lsp_dap   40.0  100.0  100.0      IsA   40.0   70.0    70.0      100.0                     12.7                      0.8             6
save log/bert-large-uncased/lm_diagnostic_extended/plural/df_all_use_global_dap_True_anchor_type_Coordinate_remove_Y_PUNC_FULL_concate_or_single_max_anchor_num_5_anchor_scorer_probAvg.csv
save 
log/bert-large-uncased/lm_diagnostic_extended/plural/exp_data_results_anchor_type_Coordinate_remove_Y_PUNC_FULL_concate_or_single_max_anchor_num_5_anchor_scorer_probAvg.csv
