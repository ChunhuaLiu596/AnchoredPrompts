debug: True
Some weights of the model checkpoint at bert-large-uncased were not used when initializing BertForMaskedLM: ['cls.seq_relationship.bias', 'cls.seq_relationship.weight']
- This IS expected if you are initializing BertForMaskedLM from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertForMaskedLM from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
Some weights of the model checkpoint at bert-large-uncased were not used when initializing BertForMaskedLM: ['cls.seq_relationship.bias', 'cls.seq_relationship.weight']
- This IS expected if you are initializing BertForMaskedLM from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertForMaskedLM from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
---------------------------------------- bert-large-uncased-anchor_type: Coordinate_remove_Y_PUNC_FULL-scorer_anchor:probAvg-op:concate_or_single ----------------------------------------
{
    "IsA": {
        "relation": "IsA",
        "def_sap": [
            "A [X] is a [MASK].",
            "A [X] is an [MASK].",
            "An [X] is a [MASK].",
            "An [X] is an [MASK]."
        ],
        "def_dap": [
            "A [X] or [Z] is a [MASK].",
            "A [X] or [Z] is an [MASK].",
            "An [X] or [Z] is a [MASK].",
            "An [X] or [Z] is an [MASK]."
        ],
        "lsp_sap": [
            "[MASK] such as [X].",
            "[MASK], including [X].",
            "[MASK], especially [X].",
            "[X] or other [MASK].",
            "[X] and other [MASK].",
            "such [MASK] as [X]."
        ],
        "lsp_dap": [
            "[MASK] such as [X] and [Z].",
            "[MASK], including [X] and [Z].",
            "[MASK], especially [X] and [Z].",
            "[X], [Z] and other [MASK].",
            "[X], [Z] or other [MASK].",
            "such [MASK] as [X] and [Z]."
        ],
        "use_dap": true,
        "anchor_target": "[X]",
        "anchor_lsp_sap": [
            "such as [X] and [MASK].",
            "such as [X] or [MASK].",
            "such as [X], [MASK],",
            "including [X] and [MASK].",
            "including [X] or [MASK].",
            "including [X], [MASK],",
            "especially [X] and [MASK].",
            "especially [X] or [MASK].",
            "especially [X], [MASK],",
            "[X], [MASK] or other",
            "[X], [MASK] and other"
        ]
    }
}
Processing IsA ... data/lm_diagnostic_extended/sgpl//IsA.jsonl
#Test_instances: 576
	 step1: get anchors (fill and filter)
--- def_sap
--- lsp_sap
relation: IsA 	 use_dap: True
	 step2: insert anchors
	 step3: fill mask in dap anchors
  0%|          | 0/5 [00:00<?, ?it/s] 20%|██        | 1/5 [00:00<00:01,  2.49it/s] 40%|████      | 2/5 [00:00<00:01,  2.44it/s] 60%|██████    | 3/5 [00:01<00:00,  2.44it/s] 80%|████████  | 4/5 [00:01<00:00,  2.45it/s]100%|██████████| 5/5 [00:02<00:00,  2.47it/s]100%|██████████| 5/5 [00:02<00:00,  2.46it/s]
  0%|          | 0/5 [00:00<?, ?it/s] 20%|██        | 1/5 [00:00<00:02,  1.50it/s] 40%|████      | 2/5 [00:01<00:02,  1.50it/s] 60%|██████    | 3/5 [00:02<00:01,  1.50it/s] 80%|████████  | 4/5 [00:02<00:00,  1.50it/s]100%|██████████| 5/5 [00:03<00:00,  1.50it/s]100%|██████████| 5/5 [00:03<00:00,  1.50it/s]
  0%|          | 0/5 [00:00<?, ?it/s] 20%|██        | 1/5 [00:02<00:08,  2.01s/it] 40%|████      | 2/5 [00:03<00:05,  2.00s/it] 60%|██████    | 3/5 [00:06<00:04,  2.01s/it] 80%|████████  | 4/5 [00:08<00:02,  2.00s/it]100%|██████████| 5/5 [00:10<00:00,  2.00s/it]100%|██████████| 5/5 [00:10<00:00,  2.00s/it]
    sub_label      obj_label             masked_sentences  uuid relation  sub_position                                            def_sap                                            def_dap                                            lsp_sap                                            lsp_dap                                     anchor_lsp_sap                                  obj_mask_sentence                            obj_mask_sentence_score                                   obj_mask_def_sap                             obj_mask_def_sap_score                                   obj_mask_lsp_sap                             obj_mask_lsp_sap_score                           subj_anchors                                 subj_anchors_score                  masked_sentences_with_subj_anchor                           def_dap_with_subj_anchor                           lsp_dap_with_subj_anchor                    subj_anchors_combined                              obj_mask_sentence_dap  \
0      graver  [tool, tools]      [A graver is a [MASK].]     1      IsA             2    [A graver is a [MASK]., A graver is an [MASK].]  [A graver or [Z] is a [MASK]., A graver or [Z]...  [[MASK] such as graver., [MASK], including gra...  [[MASK] such as graver and [Z]., [MASK], inclu...  [such as graver and [MASK]., such as graver or...  [digger, shovel, tool, grave, coffin, person, ...  {'digger': 0.04075149819254875, 'shovel': 0.03...  [object, undertaker, oven, digger, shovel, ani...  {'object': 0.09570153057575226, 'undertaker': ...  [tool, stories, poems, things, books, digger, ...  {'tool': 0.21104079484939575, 'stories': 0.139...  [grave, heavier, shovel, hammer, saw]  {'grave': 1.0317308232188225, 'heavier': 1.013...  [A graver is a [MASK]., A graver or grave is a...  [A graver or grave is a [MASK]., A graver or h...  [[MASK] such as graver and grave., [MASK] such...   graver grave heavier shovel hammer saw  [tool, hammer, grave, shovel, building, saw, t...   
1  smallmouth         [fish]  [A smallmouth is a [MASK].]     2      IsA             2  [A smallmouth is a [MASK]., A smallmouth is an...  [A smallmouth or [Z] is a [MASK]., A smallmout...  [[MASK] such as smallmouth., [MASK], including...  [[MASK] such as smallmouth and [Z]., [MASK], i...  [such as smallmouth and [MASK]., such as small...  [fish, catfish, salmon, shark, trout, swimmer,...  {'fish': 0.7577892541885376, 'catfish': 0.1664...  [eel, fish, otter, catfish, alligator, estuary...  {'eel': 0.48938894271850586, 'fish': 0.3991702...  [catfish, fish, bass, fishes, species, things,...  {'catfish': 0.18986162468791007, 'fish': 0.177...     [bass, catfish, perch, pike, carp]  {'bass': 0.4039558608084917, 'catfish': 0.3139...  [A smallmouth is a [MASK]., A smallmouth or ba...  [A smallmouth or bass is a [MASK]., A smallmou...  [[MASK] such as smallmouth and bass., [MASK] s...  smallmouth bass catfish perch pike carp  [fish, catfish, trout, shark, salmon, carp, ba...   
2     pelican  [bird, birds]     [A pelican is a [MASK].]     3      IsA             2  [A pelican is a [MASK]., A pelican is an [MASK].]  [A pelican or [Z] is a [MASK]., A pelican or [...  [[MASK] such as pelican., [MASK], including pe...  [[MASK] such as pelican and [Z]., [MASK], incl...  [such as pelican and [MASK]., such as pelican ...  [bird, parrot, penguin, dolphin, fish, dog, pi...  {'bird': 0.4259682595729828, 'parrot': 0.09353...  [animal, bird, parrot, penguin, dolphin, ancho...  {'animal': 0.687469482421875, 'bird': 0.425968...  [stories, animal, bird, dolphin, poems, dolphi...  {'stories': 0.29853639006614685, 'animal': 0.1...  [penguin, heron, parrot, crane, duck]  {'penguin': 0.2222089135915869, 'heron': 0.197...  [A pelican is a [MASK]., A pelican or penguin ...  [A pelican or penguin is a [MASK]., A pelican ...  [[MASK] such as pelican and penguin., [MASK] s...  pelican penguin heron parrot crane duck  [bird, crane, parrot, penguin, duck, dolphin, ...   
3   sapsucker  [bird, birds]   [A sapsucker is a [MASK].]     4      IsA             2  [A sapsucker is a [MASK]., A sapsucker is an [...  [A sapsucker or [Z] is a [MASK]., A sapsucker ...  [[MASK] such as sapsucker., [MASK], including ...  [[MASK] such as sapsucker and [Z]., [MASK], in...  [such as sapsucker and [MASK]., such as sapsuc...  [snake, worm, spider, bug, lizard, predator, t...  {'snake': 0.09990816563367844, 'worm': 0.06063...  [insect, animal, snake, worm, spider, bug, liz...  {'insect': 0.42818331718444824, 'animal': 0.33...  [artists, stories, lizard, works, insect, snak...  {'artists': 0.1365809440612793, 'stories': 0.1...    [snake, monster, toad, rat, hybrid]  {'snake': 0.16469313731067814, 'monster': 0.15...  [A sapsucker is a [MASK]., A sapsucker or snak...  [A sapsucker or snake is a [MASK]., A sapsucke...  [[MASK] such as sapsucker and snake., [MASK] s...  sapsucker snake monster toad rat hybrid  [plant, toad, monster, rat, frog, snake, mamma...   
4        mako         [fish]        [A mako is a [MASK].]     5      IsA             2        [A mako is a [MASK]., A mako is an [MASK].]  [A mako or [Z] is a [MASK]., A mako or [Z] is ...  [[MASK] such as mako., [MASK], including mako....  [[MASK] such as mako and [Z]., [MASK], includi...  [such as mako and [MASK]., such as mako or [MA...  [fish, canoe, drum, dog, boat, drummer, bird, ...  {'fish': 0.03543548658490181, 'canoe': 0.02775...  [animal, elephant, object, fish, instrument, c...  {'animal': 0.23357099294662476, 'elephant': 0....  [stories, poems, fish, yes, artists, things, j...  {'stories': 0.47599947452545166, 'poems': 0.16...          [human, bird, dog, tuna, man]  {'human': 0.26000714760560256, 'bird': 0.16845...  [A mako is a [MASK]., A mako or human is a [MA...  [A mako or human is a [MASK]., A mako or bird ...  [[MASK] such as mako and human., [MASK] such a...             mako human bird dog tuna man  [man, dog, fish, tuna, human, bird, shark, per...   

                         obj_mask_sentence_dap_score                                   obj_mask_def_dap                             obj_mask_def_dap_score                                   obj_mask_lsp_dap                             obj_mask_lsp_dap_score  
0  {'tool': 0.3594380863010883, 'hammer': 0.18753...  [tool, implement, grave, axe, object, hammer, ...  {'tool': 0.3562424942851067, 'implement': 0.24...  [tools, grave, harder, shovel, tool, hammer, t...  {'tools': 0.29987885455678526, 'grave': 0.2269...  
1  {'fish': 0.7731752395629883, 'catfish': 0.1652...  [fish, example, catfish, eel, intermediate, ot...  {'fish': 0.4444689901752604, 'example': 0.4441...  [fish, species, catfish, bass, fishing, rivers...  {'fish': 0.38457076574365295, 'species': 0.323...  
2  {'bird': 0.5826263278722763, 'crane': 0.123112...  [animal, bird, example, crane, penguin, parrot...  {'animal': 0.5207624495029449, 'bird': 0.43946...  [birds, bird, books, species, penguins, pengui...  {'birds': 0.3989590981664757, 'bird': 0.171435...  
3  {'plant': 0.593829870223999, 'toad': 0.4532943...  [plant, animal, toad, monster, insect, rat, fr...  {'plant': 0.593829870223999, 'animal': 0.49293...  [snakes, reptiles, frogs, monsters, forms, ani...  {'snakes': 0.2166689040937594, 'reptiles': 0.2...  
4  {'man': 0.3354877531528473, 'dog': 0.180406964...  [animal, man, dog, fish, tuna, eel, human, bir...  {'animal': 0.5777070107869804, 'man': 0.335487...  [fish, stories, animal, tuna, dogs, animals, d...  {'fish': 0.29667441750114615, 'stories': 0.217...  
---------------------------------------- obj_label evaluation ----------------------------------------
      mask_type   p@1   p@5  p@10 relation  mAP@1  mAP@5  mAP@10  recall@10  anchor_wordnet_avg_path  anchor_wordnet_coverage  mask_type_id
0      sentence  60.0  80.0  80.0      IsA   60.0   66.7    66.7       60.0                     6.68                      1.0             1
3  sentence_dap  60.0  80.0  80.0      IsA   60.0   66.7    66.7       60.0                     6.68                      1.0             2
1       def_sap   0.0  60.0  80.0      IsA    0.0   25.0    27.9       60.0                     6.68                      1.0             3
4       def_dap  40.0  80.0  80.0      IsA   40.0   55.0    55.0       60.0                     6.68                      1.0             4
2       lsp_sap  20.0  80.0  80.0      IsA   20.0   43.3    35.3       70.0                     6.68                      1.0             5
5       lsp_dap  40.0  80.0  80.0      IsA   80.0   74.0    74.0       80.0                     6.68                      1.0             6
save log/bert-large-uncased/lm_diagnostic_extended/sgpl/df_all_use_global_dap_True_anchor_type_Coordinate_remove_Y_PUNC_FULL_concate_or_single_max_anchor_num_5_anchor_scorer_probAvg_wnp_True_cpt_False.csv
save log/bert-large-uncased/lm_diagnostic_extended/sgpl/exp_data_results_anchor_type_Coordinate_remove_Y_PUNC_FULL_concate_or_single_max_anchor_num_5_anchor_scorer_probAvg_wnp_True_cpt_False.csv
