debug: False
---------------------------------------- config ----------------------------------------
{'debug': False, 'test_relations': ['IsA'], 'save_all_data': True, 'top_k': 10, 'data_dir': 'data/hypernymsuite/BLESS/', 'mask_string_mapping': {'bert-large-uncased': '[MASK]'}, 'use_dap_global': True, 'return_probs': True, 'anchor_scorer_list': ['probAvg'], 'scorer_target_1_prompt': 'probSum', 'scorer_target_N_prompts': 'freqProbLogSum', 'use_original_prompt': True, 'original_prompt_source': 'masked_sentence', 'incorporate_operations': ['concate_or_single'], 'filter_anchors_flag': True, 'filter_objects_flag': True, 'cpt_only': False, 'anchor_types': ['Coordinate_remove_Y_PUNC_FULL'], 'add_cpt_score': False, 'constrain_targets': False, 'only_wordnet_anchor': False, 'add_wordnet_path_score': True, 'add_wordnet_filter': False, 'anchor_probe': 'plural_probe', 'anchor_col_prefix': 'subj_anchors_wordnet', 'anchor_col': 'subj_anchors_swow', 'anchor_col_sg': 'subj_anchors_swow_sg', 'anchor_col_pl': 'subj_anchors_swow_pl', 'anchor_col_all': 'anchor_col_all', 'filter_objects_with_input': True, 'sub_col': 'sub_label', 'sub_col_sg': 'sub_label_sg', 'sub_col_pl': 'sub_label_pl', 'top_k_anchors': 5, 'max_anchor_num_list': [10], 'max_anchor_num': 10, 'sub_col_sgpl': 'sub_label_sgpl', 'filter_objects_with_anchors': False, 'oracle_anchor_inserted': False, 'use_oracle_anchor': False, 'anchor_source': 'WordNet', 'only_swow_anchor': False, 'add_swow_score': False, 'swow_score_source': 'None', 'add_swow_filter': False, 'dataset': 'BLESS'}
---------------------------------------- config ----------------------------------------
reading cohyponyms: pre_post_process/log/word_to_cohyponyms_score_pl.json
Some weights of the model checkpoint at bert-large-uncased were not used when initializing BertForMaskedLM: ['cls.seq_relationship.bias', 'cls.seq_relationship.weight']
- This IS expected if you are initializing BertForMaskedLM from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertForMaskedLM from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
Some weights of the model checkpoint at bert-large-uncased were not used when initializing BertForMaskedLM: ['cls.seq_relationship.bias', 'cls.seq_relationship.weight']
- This IS expected if you are initializing BertForMaskedLM from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertForMaskedLM from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
---------------------------------------- bert-large-uncased-anchor_type: Coordinate_remove_Y_PUNC_FULL-scorer_anchor:probAvg-op:concate_or_single ----------------------------------------
{
    "IsA": {
        "relation": "IsA",
        "def_sap": [
            "[X] is a [MASK].",
            "[X] is a type of [MASK].",
            "[X] is a kind of [MASK]."
        ],
        "def_dap": [
            "[X] or [Z] is a [MASK].",
            "[X] or [Z] is a type of [MASK].",
            "[X] or [Z] is a kind of [MASK]."
        ],
        "lsp_sap": [
            "[MASK] such as [X].",
            "[MASK], including [X].",
            "[MASK], especially [X].",
            "[X] or other [MASK].",
            "[X] and other [MASK].",
            "such [MASK] as [X]."
        ],
        "lsp_dap": [
            "[MASK] such as [X] and [Z].",
            "[MASK], including [X] and [Z].",
            "[MASK], especially [X] and [Z].",
            "[X], [Z] and other [MASK].",
            "[X], [Z] or other [MASK].",
            "such [MASK] as [X] and [Z]."
        ],
        "use_dap": true,
        "anchor_target": "[X]",
        "anchor_lsp_sap": [
            "such as [X] and [MASK].",
            "such as [X] or [MASK].",
            "such as [X], [MASK],",
            "including [X] and [MASK].",
            "including [X] or [MASK].",
            "including [X], [MASK],",
            "especially [X] and [MASK].",
            "especially [X] or [MASK].",
            "especially [X], [MASK],",
            "[X], [MASK] or other",
            "[X], [MASK] and other"
        ]
    }
}
Processing IsA ... data/hypernymsuite/BLESS//IsA.jsonl
#All Instances: 1337
#Valid Instances: 935 in BLESS (hyper in BERT)
	 step1: get anchors (fill and filter)
/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
--- def_sap
--- lsp_sap
/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
relation: IsA 	 use_dap: True
	 step2: insert anchors
sub_col sub_label
                                               def_dap                        subj_anchors_wordnet_sg
0    [a catfish or [Z] is a [MASK]., a catfish or [...                 [bass, carp, perch, pike, eel]
1    [a musket or [Z] is a [MASK]., a musket or [Z]...          [pistol, cannon, rifle, firearm, gun]
2    [a lemon or [Z] is a [MASK]., a lemon or [Z] i...        [lime, yellow, citrus, orange, vanilla]
3    [a turtle or [Z] is a [MASK]., a turtle or [Z]...              [snake, bird, fish, lizard, frog]
4    [a bag or [Z] is a [MASK]., a bag or [Z] is a ...              [box, yes, shoe, case, obviously]
..                                                 ...                                            ...
930  [a wrench or [Z] is a [MASK]., a wrench or [Z]...               [nail, maybe, chain, bolt, nuts]
931  [a squirrel or [Z] is a [MASK]., a squirrel or...              [rabbit, fox, beaver, mouse, rat]
932  [a cello or [Z] is a [MASK]., a cello or [Z] i...         [violin, guitar, piano, viola, string]
933  [a glove or [Z] is a [MASK]., a glove or [Z] i...                 [mask, belt, coat, hat, shirt]
934  [a stereo or [Z] is a [MASK]., a stereo or [Z]...  [speaker, amplifier, radio, computer, guitar]

[935 rows x 2 columns]
                                               lsp_dap                            subj_anchors_wordnet_pl
0    [[MASK] such as catfish and [Z]., [MASK], incl...                [basses, carp, perches, pike, eels]
1    [[MASK] such as muskets and [Z]., [MASK], incl...         [pistols, cannons, rifles, firearms, guns]
2    [[MASK] such as lemon and [Z]., [MASK], includ...          [limes, yellow, citrus, orange, vanillas]
3    [[MASK] such as turtles and [Z]., [MASK], incl...            [snakes, birds, fishes, lizards, frogs]
4    [[MASK] such as bags and [Z]., [MASK], includi...              [boxes, yes, shoes, cases, obviously]
..                                                 ...                                                ...
930  [[MASK] such as wrenches and [Z]., [MASK], inc...                [nails, maybe, chains, bolts, nuts]
931  [[MASK] such as squirrel and [Z]., [MASK], inc...                [rabbits, fox, beaver, mouse, rats]
932  [[MASK] such as cellos and [Z]., [MASK], inclu...         [violins, guitars, pianos, viola, strings]
933  [[MASK] such as glove and [Z]., [MASK], includ...                 [mask, belts, coats, hats, shirts]
934  [[MASK] such as stereos and [Z]., [MASK], incl...  [speakers, amplifiers, radios, computers, guit...

[935 rows x 2 columns]
	 step3: fill mask in dap anchors
  0%|          | 0/935 [00:00<?, ?it/s]/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
 23%|██▎       | 216/935 [01:00<03:20,  3.59it/s] 23%|██▎       | 216/935 [01:20<03:20,  3.59it/s] 46%|████▌     | 432/935 [02:00<02:20,  3.59it/s] 46%|████▌     | 432/935 [02:20<02:20,  3.59it/s] 69%|██████▉   | 647/935 [03:00<01:20,  3.58it/s] 69%|██████▉   | 647/935 [03:20<01:20,  3.58it/s] 92%|█████████▏| 863/935 [04:00<00:20,  3.59it/s] 92%|█████████▏| 863/935 [04:20<00:20,  3.59it/s]100%|██████████| 935/935 [04:20<00:00,  3.59it/s]
  0%|          | 0/935 [00:00<?, ?it/s] 12%|█▏        | 109/935 [01:00<07:37,  1.81it/s] 12%|█▏        | 109/935 [01:19<07:37,  1.81it/s] 23%|██▎       | 218/935 [02:00<06:37,  1.81it/s] 23%|██▎       | 218/935 [02:19<06:37,  1.81it/s] 35%|███▍      | 327/935 [03:01<05:36,  1.81it/s] 35%|███▍      | 327/935 [03:19<05:36,  1.81it/s] 47%|████▋     | 436/935 [04:01<04:36,  1.81it/s] 47%|████▋     | 436/935 [04:19<04:36,  1.81it/s] 58%|█████▊    | 545/935 [05:01<03:35,  1.81it/s] 58%|█████▊    | 545/935 [05:19<03:35,  1.81it/s] 70%|██████▉   | 654/935 [06:02<02:35,  1.80it/s] 70%|██████▉   | 654/935 [06:19<02:35,  1.80it/s] 82%|████████▏ | 763/935 [07:02<01:35,  1.81it/s] 82%|████████▏ | 763/935 [07:19<01:35,  1.81it/s] 93%|█████████▎| 872/935 [08:02<00:34,  1.81it/s] 93%|█████████▎| 872/935 [08:19<00:34,  1.81it/s]100%|██████████| 935/935 [08:37<00:00,  1.81it/s]
  sub_label  obj_label relation                                   masked_sentences                                         sub_sister  uuid  sub_position sub_label_sg sub_label_pl                                            def_sap                                            def_dap                                            lsp_sap                                            lsp_dap                                     anchor_lsp_sap           sub_label_sgpl  obj_in_BERT                                  obj_mask_sentence                            obj_mask_sentence_score                                   obj_mask_def_sap                             obj_mask_def_sap_score                                   obj_mask_lsp_sap                             obj_mask_lsp_sap_score                               subj_anchors_wordnet                         subj_anchors_wordnet_score                  subj_anchors_wordnet_sg                     subj_anchors_wordnet_pl  \
0   catfish     [fish]      IsA  [A catfish is a [MASK]., A catfish is an [MASK].]  [sandfish, wolffish, eel, greeneye, ghostfish,...     2             2      catfish      catfish  [a catfish is a [MASK]., a catfish is a type o...  [a catfish or [Z] is a [MASK]., a catfish or [...  [[MASK] such as catfish., [MASK], including ca...  [[MASK] such as catfish and [Z]., [MASK], incl...  [such as catfish and [MASK]., such as catfish ...  catfish catfish catfish            1  [animal, fish, insect, eel, oyster, organism, ...  {'animal': -5.884246700948145, 'fish': -7.3868...  [fish, shrimp, mollusk, swimmer, salmon, bird,...  {'fish': -4.442973047064299, 'shrimp': -12.345...  [fish, species, animal, seafood, reptile, inve...  {'fish': -4.942579534624883, 'species': -9.299...  [bass, carp, perch, pike, eel, sucker, shrimp,...  {'bass': 0.7321240423303661, 'carp': 0.5149355...           [bass, carp, perch, pike, eel]         [basses, carp, perches, pike, eels]   
1   muskets  [firearm]      IsA    [A musket is a [MASK]., A musket is an [MASK].]  [flintlock, hackbut, harquebus, firelock, arqu...     3             2       musket      muskets  [a musket is a [MASK]., a musket is a type of ...  [a musket or [Z] is a [MASK]., a musket or [Z]...  [[MASK] such as muskets., [MASK], including mu...  [[MASK] such as muskets and [Z]., [MASK], incl...  [such as muskets and [MASK]., such as muskets ...   muskets musket muskets            1  [artillery, firearm, gun, cannon, arrow, instr...  {'artillery': -6.829809756901031, 'firearm': -...  [firearm, cannon, gun, weapon, rifle, pistol, ...  {'firearm': -5.349813407088699, 'cannon': -7.0...  [weapon, firearm, gun, artillery, arm, impleme...  {'weapons': -6.112329372878857, 'firearms': -6...  [pistols, cannons, rifles, firearms, guns, can...  {'pistols': 0.24924550476399335, 'cannons': 0....    [pistol, cannon, rifle, firearm, gun]  [pistols, cannons, rifles, firearms, guns]   
2     lemon  [produce]      IsA      [A lemon is a [MASK]., A lemon is an [MASK].]  [lemanderin, grapefruit, good, insert, button,...     4             2        lemon        lemon  [a lemon is a [MASK]., a lemon is a type of [M...  [a lemon or [Z] is a [MASK]., a lemon or [Z] i...  [[MASK] such as lemon., [MASK], including lemo...  [[MASK] such as lemon and [Z]., [MASK], includ...  [such as lemon and [MASK]., such as lemon or [...        lemon lemon lemon            1  [apple, orange, object, adjective, olive, almo...  {'apple': -6.533058511601689, 'orange': -7.425...  [fruit, drink, lime, candy, apple, orange, ber...  {'fruit': -7.934486012665629, 'drink': -10.454...  [fruit, citrus, apple, thing, orange, lime, wa...  {'fruit': -7.175187479938773, 'fruits': -7.897...  [lime, yellow, citrus, orange, vanilla, apple,...  {'lime': 0.8361265620950495, 'yellow': 0.51169...  [lime, yellow, citrus, orange, vanilla]   [limes, yellow, citrus, orange, vanillas]   
3   turtles    [beast]      IsA    [A turtle is a [MASK]., A turtle is an [MASK].]         [turtleneck, pullover, slipover, cardigan]     6             2       turtle      turtles  [a turtle is a [MASK]., a turtle is a type of ...  [a turtle or [Z] is a [MASK]., a turtle or [Z]...  [[MASK] such as turtles., [MASK], including tu...  [[MASK] such as turtles and [Z]., [MASK], incl...  [such as turtles and [MASK]., such as turtles ...   turtles turtle turtles            1  [animal, bird, fish, person, human, object, cr...  {'animal': -5.460504933765254, 'bird': -8.7831...  [bird, animal, fish, mammal, creature, lizard,...  {'bird': -6.983079495727402, 'animal': -7.2181...  [reptile, animal, bird, creature, wildlife, in...  {'reptiles': -6.12624919356388, 'animals': -6....  [snakes, birds, fish, lizards, frogs, dragons,...  {'snakes': 0.3146660774946213, 'birds': 0.1580...        [snake, bird, fish, lizard, frog]     [snakes, birds, fishes, lizards, frogs]   
4      bags  [luggage]      IsA          [A bag is a [MASK]., A bag is an [MASK].]  [box, job, knocker, barrowful, measure, desser...     7             2          bag         bags  [a bag is a [MASK]., a bag is a type of [MASK]...  [a bag or [Z] is a [MASK]., a bag or [Z] is a ...  [[MASK] such as bags., [MASK], including bags....  [[MASK] such as bags and [Z]., [MASK], includi...  [such as bags and [MASK]., such as bags or [MA...            bags bag bags            1  [object, envelope, umbrella, item, accessory, ...  {'object': -7.057799467734983, 'envelope': -8....  [container, luggage, backpack, suitcase, sack,...  {'container': -8.861242617076943, 'luggage': -...  [thing, item, object, luggage, belongings, acc...  {'things': -7.206912668513597, 'items': -8.137...  [boxes, yes, shoes, cases, obviously, yeah, cl...  {'boxes': 0.1638453546911478, 'yes': 0.0626923...        [box, yes, shoe, case, obviously]       [boxes, yes, shoes, cases, obviously]   

                            subj_anchors_wordnet_all    subj_anchors_combined  anchor_num                           def_dap_with_subj_anchor                           lsp_dap_with_subj_anchor                                   obj_mask_def_dap                             obj_mask_def_dap_score                                   obj_mask_lsp_dap                             obj_mask_lsp_dap_score  
0  [bass, carp, perch, pike, eel, sucker, shrimp,...  catfish catfish catfish          10  [a catfish or a bass is a [MASK]., a catfish o...  [[MASK] such as catfish and basses., [MASK] su...  [fish, species, salmon, predator, carp, eel, f...  {'fish': -4.287295234139043, 'species': -13.62...  [fish, species, animal, seafood, invertebrates...  {'fish': -4.906307511256254, 'fishes': -8.9934...  
1  [pistol, cannon, rifle, firearm, gun, sword, a...   muskets musket muskets          10  [a musket or a pistol is a [MASK]., a musket o...  [[MASK] such as muskets and pistols., [MASK] s...  [firearm, weapon, gun, cannon, rifle, pistol, ...  {'firearm': -4.927405819860713, 'weapon': -6.8...  [weapon, firearm, gun, thing, arm, weaponry, e...  {'weapons': -5.597174918379553, 'firearms': -7...  
2  [lime, yellow, citrus, orange, vanilla, apple,...        lemon lemon lemon          10  [a lemon or a lime is a [MASK]., a lemon or a ...  [[MASK] such as lemon and limes., [MASK] such ...  [fruit, drink, lime, orange, apple, juice, can...  {'fruit': -6.35236433174011, 'drink': -9.22742...  [fruit, color, citrus, thing, flavor, colour, ...  {'fruits': -7.061950591216812, 'fruit': -7.769...  
3  [snake, bird, fish, lizard, frog, dragon, shar...   turtles turtle turtles          10  [a turtle or a snake is a [MASK]., a turtle or...  [[MASK] such as turtles and snakes., [MASK] su...  [animal, bird, fish, mammal, creature, lizard,...  {'animal': -7.5255446660385035, 'bird': -7.676...  [reptile, animal, wildlife, invertebrates, bir...  {'reptiles': -6.164623090730166, 'animals': -6...  
4  [box, yes, shoe, case, obviously, yeah, clothe...            bags bag bags          10  [a bag or a box is a [MASK]., a bag or a yes i...  [[MASK] such as bags and boxes., [MASK] such a...  [container, luggage, backpack, suitcase, yes, ...  {'container': -7.19792714910603, 'luggage': -8...  [thing, item, stuff, luggage, object, yes, goo...  {'things': -7.003505253732369, 'items': -8.343...  
---------------------------------------- anchor evaluation ----------------------------------------
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:882: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'mrr_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: get_highest_mrr_among_labels(x[0], x[1]), axis=1 )
anchored_prompts.py:882: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'mrr_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: get_highest_mrr_among_labels(x[0], x[1]), axis=1 )
begin{tabular}{rlrrrr}
hline
    	 mask_type                	   p@1 	   p@5 	   p@10 	   mrr 
hline
  0 	 subj_anchors_wordnet_sg  	    49 	  68.3 	   68.3 	  56.2 
  1 	 subj_anchors_wordnet_all 	    49 	  68.3 	   77.4 	  57.4 
hline
end{tabular}
---------------------------------------- obj_label evaluation ----------------------------------------
begin{tabular}{rlrrrrr}
hline
    	 mask_type   	   p@1 	   p@5 	   p@10 	   mrr 	   mask_type_id 
hline
  1 	 def_sap     	  16.4 	  32.7 	   42.4 	  23.6 	              1 
  2 	 lsp_sap     	  16.1 	  36.6 	   49.6 	  25.1 	              3 
  3 	 def_dap     	  17.6 	  37.4 	   48.1 	  26.2 	              2 
  4 	 lsp_dap     	  17.1 	  37.8 	   51.6 	  26.3 	              4 
hline
end{tabular}
save log/bert-large-uncased/hypernymsuite/BLESS/df_all_use_global_dap_True_max_anchor_num_5_anchor_scorer_probAvg_filter_obj_True_filter_objects_with_input_True_anchor_source_WordNet_wns_True_wnf_False_swow_score_source_None.BLESS.tsv
save log/bert-large-uncased/hypernymsuite/BLESS/df_all_use_global_dap_True_max_anchor_num_5_anchor_scorer_probAvg_filter_obj_True_filter_objects_with_input_True_anchor_source_WordNet_wns_True_wnf_False_swow_score_source_None.BLESS.csv
debug: False
---------------------------------------- config ----------------------------------------
{'debug': False, 'test_relations': ['IsA'], 'save_all_data': True, 'top_k': 10, 'data_dir': 'data/lm_diagnostic_extended/singular/', 'mask_string_mapping': {'bert-large-uncased': '[MASK]'}, 'use_dap_global': True, 'return_probs': True, 'anchor_scorer_list': ['probAvg'], 'scorer_target_1_prompt': 'probSum', 'scorer_target_N_prompts': 'freqProbLogSum', 'use_original_prompt': True, 'original_prompt_source': 'masked_sentence', 'incorporate_operations': ['concate_or_single'], 'filter_anchors_flag': True, 'filter_objects_flag': True, 'cpt_only': False, 'anchor_types': ['Coordinate_remove_Y_PUNC_FULL'], 'add_cpt_score': False, 'constrain_targets': False, 'only_wordnet_anchor': False, 'add_wordnet_path_score': True, 'add_wordnet_filter': False, 'anchor_probe': 'plural_probe', 'anchor_col_prefix': 'subj_anchors_wordnet', 'anchor_col': 'subj_anchors_swow', 'anchor_col_sg': 'subj_anchors_swow_sg', 'anchor_col_pl': 'subj_anchors_swow_pl', 'anchor_col_all': 'anchor_col_all', 'filter_objects_with_input': True, 'sub_col': 'sub_label', 'sub_col_sg': 'sub_label_sg', 'sub_col_pl': 'sub_label_pl', 'top_k_anchors': 5, 'max_anchor_num_list': [10], 'max_anchor_num': 10, 'sub_col_sgpl': 'sub_label_sgpl', 'filter_objects_with_anchors': False, 'oracle_anchor_inserted': False, 'use_oracle_anchor': False, 'anchor_source': 'WordNet', 'only_swow_anchor': False, 'add_swow_score': False, 'swow_score_source': 'None', 'add_swow_filter': False, 'dataset': 'DIAG'}
---------------------------------------- config ----------------------------------------
reading cohyponyms: pre_post_process/log/word_to_cohyponyms_score_pl.json
Some weights of the model checkpoint at bert-large-uncased were not used when initializing BertForMaskedLM: ['cls.seq_relationship.weight', 'cls.seq_relationship.bias']
- This IS expected if you are initializing BertForMaskedLM from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertForMaskedLM from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
Some weights of the model checkpoint at bert-large-uncased were not used when initializing BertForMaskedLM: ['cls.seq_relationship.weight', 'cls.seq_relationship.bias']
- This IS expected if you are initializing BertForMaskedLM from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertForMaskedLM from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
---------------------------------------- bert-large-uncased-anchor_type: Coordinate_remove_Y_PUNC_FULL-scorer_anchor:probAvg-op:concate_or_single ----------------------------------------
{
    "IsA": {
        "relation": "IsA",
        "def_sap": [
            "[X] is a [MASK].",
            "[X] is a type of [MASK].",
            "[X] is a kind of [MASK]."
        ],
        "def_dap": [
            "[X] or [Z] is a [MASK].",
            "[X] or [Z] is a type of [MASK].",
            "[X] or [Z] is a kind of [MASK]."
        ],
        "lsp_sap": [
            "[MASK] such as [X].",
            "[MASK], including [X].",
            "[MASK], especially [X].",
            "[X] or other [MASK].",
            "[X] and other [MASK].",
            "such [MASK] as [X]."
        ],
        "lsp_dap": [
            "[MASK] such as [X] and [Z].",
            "[MASK], including [X] and [Z].",
            "[MASK], especially [X] and [Z].",
            "[X], [Z] and other [MASK].",
            "[X], [Z] or other [MASK].",
            "such [MASK] as [X] and [Z]."
        ],
        "use_dap": true,
        "anchor_target": "[X]",
        "anchor_lsp_sap": [
            "such as [X] and [MASK].",
            "such as [X] or [MASK].",
            "such as [X], [MASK],",
            "including [X] and [MASK].",
            "including [X] or [MASK].",
            "including [X], [MASK],",
            "especially [X] and [MASK].",
            "especially [X] or [MASK].",
            "especially [X], [MASK],",
            "[X], [MASK] or other",
            "[X], [MASK] and other"
        ]
    }
}
Processing IsA ... data/lm_diagnostic_extended/singular//IsA.jsonl
#All Instances: 576
#Valid Instances: 576 in DIAG (hyper in BERT)
	 step1: get anchors (fill and filter)
/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
--- def_sap
--- lsp_sap
/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
relation: IsA 	 use_dap: True
	 step2: insert anchors
sub_col sub_label
                                               def_dap                       subj_anchors_wordnet_sg
0    [a graver or [Z] is a [MASK]., a graver or [Z]...             [shovel, hammer, tool, saw, bill]
1    [a smallmouth or [Z] is a [MASK]., a smallmout...              [catfish, carp, bass, frog, eel]
2    [a pelican or [Z] is a [MASK]., a pelican or [...          [bird, penguin, swan, heron, parrot]
3    [a sapsucker or [Z] is a [MASK]., a sapsucker ...      [snake, spider, vampire, lizard, zombie]
4    [a mako or [Z] is a [MASK]., a mako or [Z] is ...                [human, fish, bird, dog, tuna]
..                                                 ...                                           ...
571  [a biplane or [Z] is a [MASK]., a biplane or [...  [fighter, bomber, scout, aircraft, airplane]
572  [a baobab or [Z] is a [MASK]., a baobab or [Z]...           [tree, palm, mango, acacia, coffee]
573  [an aircraft or [Z] is a [MASK]., an aircraft ...     [helicopter, ship, vehicle, boat, rocket]
574  [a gean or [Z] is a [MASK]., a gean or [Z] is ...             [human, mei, person, man, animal]
575  [a luge or [Z] is a [MASK]., a luge or [Z] is ...          [knife, drills, needle, sword, john]

[576 rows x 2 columns]
                                               lsp_dap                            subj_anchors_wordnet_pl
0    [[MASK] such as graver and [Z]., [MASK], inclu...              [shovels, hammers, tools, saw, bills]
1    [[MASK] such as smallmouths and [Z]., [MASK], ...               [catfish, carp, basses, frogs, eels]
2    [[MASK] such as pelican and [Z]., [MASK], incl...            [birds, penguins, swan, herons, parrot]
3    [[MASK] such as sapsuckers and [Z]., [MASK], i...      [snakes, spiders, vampires, lizards, zombies]
4    [[MASK] such as mako and [Z]., [MASK], includi...                [human, fishes, birds, dogs, tunas]
..                                                 ...                                                ...
571  [[MASK] such as biplanes and [Z]., [MASK], inc...  [fighters, bombers, scouts, aircrafts, airplanes]
572  [[MASK] such as baobab and [Z]., [MASK], inclu...             [trees, palms, mango, acacia, coffees]
573  [[MASK] such as aircrafts and [Z]., [MASK], in...     [helicopters, ships, vehicles, boats, rockets]
574  [[MASK] such as gean and [Z]., [MASK], includi...                [human, mei, persons, men, animals]
575  [[MASK] such as luges and [Z]., [MASK], includ...            [knives, drills, needles, swords, john]

[576 rows x 2 columns]
	 step3: fill mask in dap anchors
  0%|          | 0/576 [00:00<?, ?it/s]/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
 32%|███▏      | 184/576 [01:00<02:08,  3.05it/s] 32%|███▏      | 184/576 [01:20<02:08,  3.05it/s] 64%|██████▍   | 368/576 [02:00<01:08,  3.05it/s] 64%|██████▍   | 368/576 [02:20<01:08,  3.05it/s] 96%|█████████▌| 552/576 [03:00<00:07,  3.05it/s]100%|██████████| 576/576 [03:08<00:00,  3.05it/s]
  0%|          | 0/576 [00:00<?, ?it/s] 16%|█▌        | 92/576 [01:00<05:16,  1.53it/s] 16%|█▌        | 92/576 [01:11<05:16,  1.53it/s] 32%|███▏      | 184/576 [02:00<04:16,  1.53it/s] 32%|███▏      | 184/576 [02:11<04:16,  1.53it/s] 48%|████▊     | 276/576 [03:00<03:16,  1.53it/s] 48%|████▊     | 276/576 [03:11<03:16,  1.53it/s] 64%|██████▍   | 368/576 [04:00<02:16,  1.53it/s] 64%|██████▍   | 368/576 [04:11<02:16,  1.53it/s] 80%|███████▉  | 460/576 [05:00<01:15,  1.53it/s] 80%|███████▉  | 460/576 [05:11<01:15,  1.53it/s] 96%|█████████▌| 552/576 [06:01<00:15,  1.53it/s] 96%|█████████▌| 552/576 [06:11<00:15,  1.53it/s]100%|██████████| 576/576 [06:16<00:00,  1.53it/s]
              masked_sentences obj_label    sub_label sub_label_pl relation                                         sub_sister  uuid  sub_position sub_label_sg                                            def_sap                                            def_dap                                            lsp_sap                                            lsp_dap                                     anchor_lsp_sap                      sub_label_sgpl  obj_in_BERT                                  obj_mask_sentence                            obj_mask_sentence_score                                   obj_mask_def_sap                             obj_mask_def_sap_score                                   obj_mask_lsp_sap                             obj_mask_lsp_sap_score                               subj_anchors_wordnet                         subj_anchors_wordnet_score                   subj_anchors_wordnet_sg                        subj_anchors_wordnet_pl  \
0      [A graver is a [MASK].]    [tool]       graver       graver      IsA  [bevel, dibber, spreader, hammer, crank, float...     1             2       graver  [a graver is a [MASK]., a graver is a type of ...  [a graver or [Z] is a [MASK]., a graver or [Z]...  [[MASK] such as graver., [MASK], including gra...  [[MASK] such as graver and [Z]., [MASK], inclu...  [such as graver and [MASK]., such as graver or...                graver graver graver            1  [digger, shovel, tool, grave, coffin, person, ...  {'digger': -8.93893395450476, 'shovel': -8.996...  [shovel, tool, coffin, digger, grave, oven, to...  {'shovel': -7.8714093588212215, 'tool': -8.745...  [tool, story, poems, thing, book, works, digge...  {'tool': -8.670671149942246, 'stories': -9.270...  [shovel, hammer, tool, saw, bill, drill, cutte...  {'shovel': 0.39039265469958384, 'hammer': 0.36...         [shovel, hammer, tool, saw, bill]          [shovels, hammers, tools, saw, bills]   
1  [A smallmouth is a [MASK].]    [fish]  smallmouths  smallmouths      IsA                                       [largemouth]     2             2   smallmouth  [a smallmouth is a [MASK]., a smallmouth is a ...  [a smallmouth or [Z] is a [MASK]., a smallmout...  [[MASK] such as smallmouths., [MASK], includin...  [[MASK] such as smallmouths and [Z]., [MASK], ...  [such as smallmouths and [MASK]., such as smal...  smallmouths smallmouth smallmouths            1  [fish, catfish, salmon, shark, trout, swimmer,...  {'fish': -4.648060742066287, 'catfish': -6.835...  [fish, catfish, shark, swimmer, salmon, carp, ...  {'fish': -4.852696385096972, 'catfish': -6.629...  [fish, catfish, species, reptile, thing, preda...  {'fish': -6.019906277942945, 'catfish': -7.293...  [catfish, carp, bass, frogs, eels, cerambycida...  {'catfish': 0.6535254202105782, 'carp': 0.1299...          [catfish, carp, bass, frog, eel]           [catfish, carp, basses, frogs, eels]   
2     [A pelican is a [MASK].]    [bird]      pelican      pelican      IsA  [cormorant, snakebird, tropicbird, darter, anh...     3             2      pelican  [a pelican is a [MASK]., a pelican is a type o...  [a pelican or [Z] is a [MASK]., a pelican or [...  [[MASK] such as pelican., [MASK], including pe...  [[MASK] such as pelican and [Z]., [MASK], incl...  [such as pelican and [MASK]., such as pelican ...             pelican pelican pelican            1  [bird, parrot, penguin, dolphin, fish, dog, pi...  {'bird': -5.553109751033401, 'parrot': -7.7402...  [bird, parrot, dolphin, fish, dog, turtle, ani...  {'bird': -5.434608383702077, 'parrot': -8.5271...  [story, fish, dolphin, animal, bird, ship, poe...  {'stories': -8.638846115876778, 'fish': -8.785...  [bird, penguin, swan, heron, parrot, crane, du...  {'bird': 0.2367141254246235, 'penguin': 0.2201...      [bird, penguin, swan, heron, parrot]        [birds, penguins, swan, herons, parrot]   
3   [A sapsucker is a [MASK].]    [bird]   sapsuckers   sapsuckers      IsA    [wryneck, redhead, piculet, ivorybill, flicker]     4             2    sapsucker  [a sapsucker is a [MASK]., a sapsucker is a ty...  [a sapsucker or [Z] is a [MASK]., a sapsucker ...  [[MASK] such as sapsuckers., [MASK], including...  [[MASK] such as sapsuckers and [Z]., [MASK], i...  [such as sapsuckers and [MASK]., such as sapsu...     sapsuckers sapsucker sapsuckers            1  [snake, worm, spider, bug, lizard, predator, t...  {'snake': -7.64518889675958, 'worm': -8.365534...  [insect, snake, spider, lizard, animal, worm, ...  {'insect': -7.6130040846174385, 'snake': -8.26...  [snake, reptile, animal, insect, predator, cre...  {'snakes': -6.653929158976036, 'reptiles': -7....  [snakes, spiders, vampires, lizards, zombies, ...  {'snakes': 0.23924588378180156, 'spiders': 0.0...  [snake, spider, vampire, lizard, zombie]  [snakes, spiders, vampires, lizards, zombies]   
4        [A mako is a [MASK].]    [fish]         mako         mako      IsA                                        [porbeagle]     5             2         mako  [a mako is a [MASK]., a mako is a type of [MAS...  [a mako or [Z] is a [MASK]., a mako or [Z] is ...  [[MASK] such as mako., [MASK], including mako....  [[MASK] such as mako and [Z]., [MASK], includi...  [such as mako and [MASK]., such as mako or [MA...                      mako mako mako            1  [fish, canoe, drum, dog, boat, drummer, bird, ...  {'fish': -9.140592458399126, 'canoe': -9.49322...  [drum, fish, boat, canoe, bird, umbrella, flut...  {'drum': -8.934197447070298, 'fish': -9.539210...  [story, poems, fish, yes, artist, thing, peopl...  {'stories': -7.7291837518064845, 'poems': -9.2...  [human, fish, bird, dog, tuna, animal, baby, m...  {'human': 0.2600072519137309, 'fish': 0.180396...            [human, fish, bird, dog, tuna]            [human, fishes, birds, dogs, tunas]   

                            subj_anchors_wordnet_all               subj_anchors_combined  anchor_num                           def_dap_with_subj_anchor                           lsp_dap_with_subj_anchor                                   obj_mask_def_dap                             obj_mask_def_dap_score                                   obj_mask_lsp_dap                             obj_mask_lsp_dap_score  
0  [shovel, hammer, tool, saw, bill, drill, cutte...                graver graver graver          10  [a graver or a shovel is a [MASK]., a graver o...  [[MASK] such as graver and shovels., [MASK] su...  [tool, shovel, coin, hammer, digger, weapon, k...  {'tool': -6.612760874671582, 'shovel': -7.8824...  [tool, implement, thing, instrument, item, equ...  {'tools': -6.285091641322217, 'implements': -1...  
1  [catfish, carp, bass, frog, eel, cerambycidae,...  smallmouths smallmouth smallmouths          10  [a smallmouth or a catfish is a [MASK]., a sma...  [[MASK] such as smallmouths and catfish., [MAS...  [fish, catfish, mammal, frog, eel, toad, shark...  {'fish': -4.791638882592223, 'catfish': -8.175...  [fish, species, catfish, reptile, animal, bass...  {'fish': -6.020565090118574, 'species': -8.825...  
2  [bird, penguin, swan, heron, parrot, crane, du...             pelican pelican pelican          10  [a pelican or a bird is a [MASK]., a pelican o...  [[MASK] such as pelican and birds., [MASK] suc...  [bird, parrot, animal, dolphin, fish, mammal, ...  {'bird': -5.045609115294976, 'parrot': -9.5386...  [bird, animal, species, fish, mammal, wildlife...  {'birds': -6.528425255356883, 'animals': -8.26...  
3  [snake, spider, vampire, lizard, zombie, beetl...     sapsuckers sapsucker sapsuckers          10  [a sapsucker or a snake is a [MASK]., a sapsuc...  [[MASK] such as sapsuckers and snakes., [MASK]...  [vampire, lizard, animal, insect, zombie, snak...  {'vampire': -8.462607530305084, 'lizard': -9.0...  [animal, reptile, snake, insect, demon, predat...  {'animals': -8.66370044212829, 'reptiles': -8....  
4  [human, fish, bird, dog, tuna, animal, baby, m...                      mako mako mako          10  [a mako or a human is a [MASK]., a mako or a f...  [[MASK] such as mako and human., [MASK] such a...  [fish, animal, bird, dog, creature, human, mam...  {'fish': -7.71745444839219, 'animal': -8.84791...  [animal, fish, dog, creature, bird, mammal, sp...  {'animals': -6.909138390198549, 'fish': -9.129...  
---------------------------------------- anchor evaluation ----------------------------------------
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:882: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'mrr_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: get_highest_mrr_among_labels(x[0], x[1]), axis=1 )
anchored_prompts.py:882: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'mrr_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: get_highest_mrr_among_labels(x[0], x[1]), axis=1 )
begin{tabular}{rlrrrr}
hline
    	 mask_type                	   p@1 	   p@5 	   p@10 	   mrr 
hline
  0 	 subj_anchors_wordnet_sg  	  15.1 	    29 	   29   	  21   
  1 	 subj_anchors_wordnet_all 	  15.1 	    29 	   29.5 	  21.1 
hline
end{tabular}
---------------------------------------- obj_label evaluation ----------------------------------------
begin{tabular}{rlrrrrr}
hline
    	 mask_type   	   p@1 	   p@5 	   p@10 	   mrr 	   mask_type_id 
hline
  1 	 def_sap     	  32.5 	  56.6 	   66.8 	  42.6 	              1 
  2 	 lsp_sap     	  30.7 	  51.2 	   59.9 	  39   	              3 
  3 	 def_dap     	  43.6 	  66.1 	   75   	  53.7 	              2 
  4 	 lsp_dap     	  37.8 	  63.2 	   72   	  48.9 	              4 
hline
end{tabular}
save log/bert-large-uncased/lm_diagnostic_extended/singular/df_all_use_global_dap_True_max_anchor_num_5_anchor_scorer_probAvg_filter_obj_True_filter_objects_with_input_True_anchor_source_WordNet_wns_True_wnf_False_swow_score_source_None.DIAG.tsv
save log/bert-large-uncased/lm_diagnostic_extended/singular/df_all_use_global_dap_True_max_anchor_num_5_anchor_scorer_probAvg_filter_obj_True_filter_objects_with_input_True_anchor_source_WordNet_wns_True_wnf_False_swow_score_source_None.DIAG.csv
debug: False
---------------------------------------- config ----------------------------------------
{'debug': False, 'test_relations': ['IsA'], 'save_all_data': True, 'top_k': 10, 'data_dir': 'data/clsb/singular/', 'mask_string_mapping': {'bert-large-uncased': '[MASK]'}, 'use_dap_global': True, 'return_probs': True, 'anchor_scorer_list': ['probAvg'], 'scorer_target_1_prompt': 'probSum', 'scorer_target_N_prompts': 'freqProbLogSum', 'use_original_prompt': True, 'original_prompt_source': 'masked_sentence', 'incorporate_operations': ['concate_or_single'], 'filter_anchors_flag': True, 'filter_objects_flag': True, 'cpt_only': False, 'anchor_types': ['Coordinate_remove_Y_PUNC_FULL'], 'add_cpt_score': False, 'constrain_targets': False, 'only_wordnet_anchor': False, 'add_wordnet_path_score': True, 'add_wordnet_filter': False, 'anchor_probe': 'plural_probe', 'anchor_col_prefix': 'subj_anchors_wordnet', 'anchor_col': 'subj_anchors_swow', 'anchor_col_sg': 'subj_anchors_swow_sg', 'anchor_col_pl': 'subj_anchors_swow_pl', 'anchor_col_all': 'anchor_col_all', 'filter_objects_with_input': True, 'sub_col': 'sub_label', 'sub_col_sg': 'sub_label_sg', 'sub_col_pl': 'sub_label_pl', 'top_k_anchors': 5, 'max_anchor_num_list': [10], 'max_anchor_num': 10, 'sub_col_sgpl': 'sub_label_sgpl', 'filter_objects_with_anchors': False, 'oracle_anchor_inserted': False, 'use_oracle_anchor': False, 'anchor_source': 'WordNet', 'only_swow_anchor': False, 'add_swow_score': False, 'swow_score_source': 'None', 'add_swow_filter': False, 'dataset': 'CLSB'}
---------------------------------------- config ----------------------------------------
reading cohyponyms: pre_post_process/log/word_to_cohyponyms_score_pl.json
Some weights of the model checkpoint at bert-large-uncased were not used when initializing BertForMaskedLM: ['cls.seq_relationship.weight', 'cls.seq_relationship.bias']
- This IS expected if you are initializing BertForMaskedLM from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertForMaskedLM from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
Some weights of the model checkpoint at bert-large-uncased were not used when initializing BertForMaskedLM: ['cls.seq_relationship.weight', 'cls.seq_relationship.bias']
- This IS expected if you are initializing BertForMaskedLM from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertForMaskedLM from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
---------------------------------------- bert-large-uncased-anchor_type: Coordinate_remove_Y_PUNC_FULL-scorer_anchor:probAvg-op:concate_or_single ----------------------------------------
{
    "IsA": {
        "relation": "IsA",
        "def_sap": [
            "[X] is a [MASK].",
            "[X] is a type of [MASK].",
            "[X] is a kind of [MASK]."
        ],
        "def_dap": [
            "[X] or [Z] is a [MASK].",
            "[X] or [Z] is a type of [MASK].",
            "[X] or [Z] is a kind of [MASK]."
        ],
        "lsp_sap": [
            "[MASK] such as [X].",
            "[MASK], including [X].",
            "[MASK], especially [X].",
            "[X] or other [MASK].",
            "[X] and other [MASK].",
            "such [MASK] as [X]."
        ],
        "lsp_dap": [
            "[MASK] such as [X] and [Z].",
            "[MASK], including [X] and [Z].",
            "[MASK], especially [X] and [Z].",
            "[X], [Z] and other [MASK].",
            "[X], [Z] or other [MASK].",
            "such [MASK] as [X] and [Z]."
        ],
        "use_dap": true,
        "anchor_target": "[X]",
        "anchor_lsp_sap": [
            "such as [X] and [MASK].",
            "such as [X] or [MASK].",
            "such as [X], [MASK],",
            "including [X] and [MASK].",
            "including [X] or [MASK].",
            "including [X], [MASK],",
            "especially [X] and [MASK].",
            "especially [X] or [MASK].",
            "especially [X], [MASK],",
            "[X], [MASK] or other",
            "[X], [MASK] and other"
        ]
    }
}
Processing IsA ... data/clsb/singular//IsA.jsonl
#All Instances: 1310
#Valid Instances: 1079 in CLSB (hyper in BERT)
	 step1: get anchors (fill and filter)
/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
--- def_sap
--- lsp_sap
/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
relation: IsA 	 use_dap: True
	 step2: insert anchors
sub_col sub_label
                                                def_dap                            subj_anchors_wordnet_sg
0     [an aeroplane or [Z] is a [MASK]., an aeroplan...  [aircraft, helicopter, automobile, airplane, b...
1     [an alligator or [Z] is a [MASK]., an alligato...               [snake, turtle, frog, lizard, shark]
2     [an alligator or [Z] is a [MASK]., an alligato...               [snake, turtle, frog, lizard, shark]
3     [an ambulance or [Z] is a [MASK]., an ambulanc...                [police, bus, helicopter, car, ems]
4     [an ambulance or [Z] is a [MASK]., an ambulanc...                [police, bus, helicopter, car, ems]
...                                                 ...                                                ...
1074  [a yoghurt or [Z] is a [MASK]., a yoghurt or [...             [cheese, meat, chocolate, milk, pasta]
1075  [a yoghurt or [Z] is a [MASK]., a yoghurt or [...             [cheese, meat, chocolate, milk, pasta]
1076  [a yoyo or [Z] is a [MASK]., a yoyo or [Z] is ...                     [yo, song, bird, dance, theme]
1077  [a zebra or [Z] is a [MASK]., a zebra or [Z] i...              [elephant, lion, horse, goat, cattle]
1078  [a zebra or [Z] is a [MASK]., a zebra or [Z] i...              [elephant, lion, horse, goat, cattle]

[1079 rows x 2 columns]
                                                lsp_dap                            subj_anchors_wordnet_pl
0     [[MASK] such as aeroplanes and [Z]., [MASK], i...  [aircrafts, helicopters, automobiles, airplane...
1     [[MASK] such as alligators and [Z]., [MASK], i...          [snakes, turtles, frogs, lizards, sharks]
2     [[MASK] such as alligators and [Z]., [MASK], i...          [snakes, turtles, frogs, lizards, sharks]
3     [[MASK] such as ambulances and [Z]., [MASK], i...            [police, buses, helicopters, cars, ems]
4     [[MASK] such as ambulances and [Z]., [MASK], i...            [police, buses, helicopters, cars, ems]
...                                                 ...                                                ...
1074  [[MASK] such as yoghurt and [Z]., [MASK], incl...        [cheeses, meats, chocolates, milks, pastas]
1075  [[MASK] such as yoghurt and [Z]., [MASK], incl...        [cheeses, meats, chocolates, milks, pastas]
1076  [[MASK] such as yoyo and [Z]., [MASK], includi...                  [yo, song, birds, dances, themes]
1077  [[MASK] such as zebras and [Z]., [MASK], inclu...          [elephants, lions, horses, goats, cattle]
1078  [[MASK] such as zebras and [Z]., [MASK], inclu...          [elephants, lions, horses, goats, cattle]

[1079 rows x 2 columns]
	 step3: fill mask in dap anchors
  0%|          | 0/1079 [00:00<?, ?it/s]/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
 21%|██        | 227/1079 [01:00<03:45,  3.77it/s] 21%|██        | 227/1079 [01:20<03:45,  3.77it/s] 42%|████▏     | 454/1079 [02:00<02:45,  3.77it/s] 42%|████▏     | 454/1079 [02:20<02:45,  3.77it/s] 63%|██████▎   | 681/1079 [03:00<01:45,  3.78it/s] 63%|██████▎   | 681/1079 [03:20<01:45,  3.78it/s] 84%|████████▍ | 908/1079 [04:00<00:45,  3.78it/s] 84%|████████▍ | 908/1079 [04:20<00:45,  3.78it/s]100%|██████████| 1079/1079 [04:49<00:00,  3.73it/s]
  0%|          | 0/1079 [00:00<?, ?it/s]  9%|▊         | 93/1079 [01:00<10:42,  1.53it/s]  9%|▊         | 93/1079 [01:10<10:42,  1.53it/s] 17%|█▋        | 186/1079 [02:01<09:42,  1.53it/s] 17%|█▋        | 186/1079 [02:20<09:42,  1.53it/s] 27%|██▋       | 287/1079 [03:01<08:15,  1.60it/s] 27%|██▋       | 287/1079 [03:20<08:15,  1.60it/s] 37%|███▋      | 402/1079 [04:01<06:34,  1.72it/s] 37%|███▋      | 402/1079 [04:20<06:34,  1.72it/s] 48%|████▊     | 517/1079 [05:02<05:15,  1.78it/s] 48%|████▊     | 517/1079 [05:20<05:15,  1.78it/s] 58%|█████▊    | 631/1079 [06:02<04:05,  1.82it/s] 58%|█████▊    | 631/1079 [06:20<04:05,  1.82it/s] 69%|██████▉   | 746/1079 [07:03<03:00,  1.85it/s] 69%|██████▉   | 746/1079 [07:20<03:00,  1.85it/s] 80%|███████▉  | 860/1079 [08:03<01:57,  1.86it/s] 80%|███████▉  | 860/1079 [08:20<01:57,  1.86it/s] 90%|█████████ | 975/1079 [09:03<00:55,  1.88it/s] 90%|█████████ | 975/1079 [09:20<00:55,  1.88it/s]100%|██████████| 1079/1079 [09:58<00:00,  1.80it/s]
    sub_label   obj_label              masked_sentences relation  weight feature_type obj_label_single                                         sub_sister  uuid  sub_position sub_label_sg sub_label_pl                                            def_sap                                            def_dap                                            lsp_sap                                            lsp_dap                                     anchor_lsp_sap                   sub_label_sgpl  obj_in_BERT                                  obj_mask_sentence                            obj_mask_sentence_score                                   obj_mask_def_sap                             obj_mask_def_sap_score                                   obj_mask_lsp_sap                             obj_mask_lsp_sap_score                               subj_anchors_wordnet                         subj_anchors_wordnet_score                            subj_anchors_wordnet_sg  \
0  aeroplanes   [vehicle]   [An aeroplane is a [MASK].]      IsA       2    taxonomic          vehicle  [drone, airplane, whirlybird, ornithopter, war...     0             3    aeroplane   aeroplanes  [an aeroplane is a [MASK]., an aeroplane is a ...  [an aeroplane or [Z] is a [MASK]., an aeroplan...  [[MASK] such as aeroplanes., [MASK], including...  [[MASK] such as aeroplanes and [Z]., [MASK], i...  [such as aeroplanes and [MASK]., such as aerop...  aeroplanes aeroplane aeroplanes            1  [plane, biplane, glider, aircraft, helicopter,...  {'plane': -5.430296225218525, 'biplane': -7.54...  [aircraft, plane, airplane, glider, airship, b...  {'aircraft': -5.844922140009729, 'plane': -8.0...  [aircraft, thing, airplane, vehicle, plane, av...  {'aircraft': -5.754823951878233, 'things': -8....  [aircraft, helicopters, automobiles, airplanes...  {'aircraft': 0.11055449159307913, 'helicopters...  [aircraft, helicopter, automobile, airplane, b...   
1  alligators    [animal]  [An alligator is an [MASK].]      IsA      11    taxonomic           animal  [deerskin, calfskin, buff, fleece, crocodile, ...     2             3    alligator   alligators  [an alligator is a [MASK]., an alligator is a ...  [an alligator or [Z] is a [MASK]., an alligato...  [[MASK] such as alligators., [MASK], including...  [[MASK] such as alligators and [Z]., [MASK], i...  [such as alligators and [MASK]., such as allig...  alligators alligator alligators            1  [animal, insect, eel, alien, idiot, elephant, ...  {'animal': -5.75346447751135, 'insect': -10.19...  [fish, animal, turtle, crocodile, snake, lizar...  {'fish': -7.438471333835193, 'animal': -7.6710...  [reptile, animal, snake, thing, wildlife, fish...  {'reptiles': -5.7917639368590335, 'animals': -...  [snakes, turtles, frogs, lizards, sharks, tige...  {'snakes': 0.33330246941609815, 'turtles': 0.1...               [snake, turtle, frog, lizard, shark]   
2  alligators  [predator]   [An alligator is a [MASK].]      IsA       6    taxonomic         predator  [deerskin, calfskin, buff, fleece, crocodile, ...     4             3    alligator   alligators  [an alligator is a [MASK]., an alligator is a ...  [an alligator or [Z] is a [MASK]., an alligato...  [[MASK] such as alligators., [MASK], including...  [[MASK] such as alligators and [Z]., [MASK], i...  [such as alligators and [MASK]., such as allig...  alligators alligator alligators            1  [fish, monster, snake, crocodile, turtle, huma...  {'fish': -7.292829009024019, 'monster': -8.504...  [fish, animal, turtle, crocodile, snake, lizar...  {'fish': -7.438471333835193, 'animal': -7.6710...  [reptile, animal, snake, thing, wildlife, fish...  {'reptiles': -5.7917639368590335, 'animals': -...  [snakes, turtles, frogs, lizards, sharks, tige...  {'snakes': 0.33330246941609815, 'turtles': 0.1...               [snake, turtle, frog, lizard, shark]   
3  ambulances   [vehicle]   [An ambulance is a [MASK].]      IsA      21    taxonomic          vehicle  [loaner, racer, coupe, hatchback, wagon, cab, ...     6             3    ambulance   ambulances  [an ambulance is a [MASK]., an ambulance is a ...  [an ambulance or [Z] is a [MASK]., an ambulanc...  [[MASK] such as ambulances., [MASK], including...  [[MASK] such as ambulances and [Z]., [MASK], i...  [such as ambulances and [MASK]., such as ambul...  ambulances ambulance ambulances            1  [car, helicopter, hospital, vehicle, machine, ...  {'car': -8.0740543058224, 'helicopter': -8.913...  [vehicle, car, helicopter, machine, hospital, ...  {'vehicle': -8.574327708667136, 'car': -8.7382...  [vehicle, service, transportation, police, thi...  {'vehicles': -6.803935043970365, 'services': -...  [police, buses, helicopters, cars, ems, planes...  {'police': 0.28336215154691174, 'buses': 0.099...                [police, bus, helicopter, car, ems]   
4  ambulances       [van]   [An ambulance is a [MASK].]      IsA       2    taxonomic              van  [loaner, racer, coupe, hatchback, wagon, cab, ...     7             3    ambulance   ambulances  [an ambulance is a [MASK]., an ambulance is a ...  [an ambulance or [Z] is a [MASK]., an ambulanc...  [[MASK] such as ambulances., [MASK], including...  [[MASK] such as ambulances and [Z]., [MASK], i...  [such as ambulances and [MASK]., such as ambul...  ambulances ambulance ambulances            1  [car, helicopter, hospital, vehicle, machine, ...  {'car': -8.0740543058224, 'helicopter': -8.913...  [vehicle, car, helicopter, machine, hospital, ...  {'vehicle': -8.574327708667136, 'car': -8.7382...  [vehicle, service, transportation, police, thi...  {'vehicles': -6.803935043970365, 'services': -...  [police, buses, helicopters, cars, ems, planes...  {'police': 0.28336215154691174, 'buses': 0.099...                [police, bus, helicopter, car, ems]   

                             subj_anchors_wordnet_pl                           subj_anchors_wordnet_all            subj_anchors_combined  anchor_num                           def_dap_with_subj_anchor                           lsp_dap_with_subj_anchor                                   obj_mask_def_dap                             obj_mask_def_dap_score                                   obj_mask_lsp_dap                             obj_mask_lsp_dap_score  
0  [aircrafts, helicopters, automobiles, airplane...  [aircraft, helicopter, automobile, airplane, b...  aeroplanes aeroplane aeroplanes          10  [an aeroplane or an aircraft is a [MASK]., an ...  [[MASK] such as aeroplanes and aircrafts., [MA...  [aircraft, plane, airplane, vehicle, balloon, ...  {'aircraft': -6.54190625086708, 'plane': -8.76...  [aircraft, vehicle, airplane, aviation, thing,...  {'aircraft': -5.991776003981072, 'vehicles': -...  
1          [snakes, turtles, frogs, lizards, sharks]  [snake, turtle, frog, lizard, shark, tiger, fi...  alligators alligator alligators          10  [an alligator or a snake is a [MASK]., an alli...  [[MASK] such as alligators and snakes., [MASK]...  [fish, animal, lizard, mammal, snake, turtle, ...  {'fish': -7.142279133877099, 'animal': -7.7733...  [reptile, animal, snake, thing, wildlife, pred...  {'reptiles': -5.477115008017866, 'animals': -7...  
2          [snakes, turtles, frogs, lizards, sharks]  [snake, turtle, frog, lizard, shark, tiger, fi...  alligators alligator alligators          10  [an alligator or a snake is a [MASK]., an alli...  [[MASK] such as alligators and snakes., [MASK]...  [fish, animal, lizard, mammal, snake, turtle, ...  {'fish': -7.142279133877099, 'animal': -7.7733...  [reptile, animal, snake, thing, wildlife, pred...  {'reptiles': -5.477115008017866, 'animals': -7...  
3            [police, buses, helicopters, cars, ems]  [police, bus, helicopter, car, ems, plane, hos...  ambulances ambulance ambulances          10  [an ambulance or a police is a [MASK]., an amb...  [[MASK] such as ambulances and police., [MASK]...  [vehicle, transport, car, helicopter, service,...  {'vehicle': -6.692410877086884, 'transport': -...  [vehicle, service, transport, transportation, ...  {'vehicles': -7.310891615507118, 'services': -...  
4            [police, buses, helicopters, cars, ems]  [police, bus, helicopter, car, ems, plane, hos...  ambulances ambulance ambulances          10  [an ambulance or a police is a [MASK]., an amb...  [[MASK] such as ambulances and police., [MASK]...  [vehicle, transport, car, helicopter, service,...  {'vehicle': -6.692410877086884, 'transport': -...  [vehicle, service, transport, transportation, ...  {'vehicles': -7.310891615507118, 'services': -...  
---------------------------------------- anchor evaluation ----------------------------------------
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:882: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'mrr_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: get_highest_mrr_among_labels(x[0], x[1]), axis=1 )
anchored_prompts.py:882: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'mrr_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: get_highest_mrr_among_labels(x[0], x[1]), axis=1 )
begin{tabular}{rlrrrr}
hline
    	 mask_type                	   p@1 	   p@5 	   p@10 	   mrr 
hline
  0 	 subj_anchors_wordnet_sg  	  39.8 	  61.9 	   61.9 	  48.3 
  1 	 subj_anchors_wordnet_all 	  39.8 	  61.9 	   67.5 	  49.1 
hline
end{tabular}
---------------------------------------- obj_label evaluation ----------------------------------------
begin{tabular}{rlrrrrr}
hline
    	 mask_type   	   p@1 	   p@5 	   p@10 	   mrr 	   mask_type_id 
hline
  1 	 def_sap     	  27.4 	  56.8 	   67.5 	  39.8 	              1 
  2 	 lsp_sap     	  26.1 	  52.5 	   63.9 	  37.5 	              3 
  3 	 def_dap     	  29.6 	  58.7 	   70.1 	  42.4 	              2 
  4 	 lsp_dap     	  27.7 	  56.7 	   67.5 	  40.1 	              4 
hline
end{tabular}
save log/bert-large-uncased/clsb/singular/df_all_use_global_dap_True_max_anchor_num_5_anchor_scorer_probAvg_filter_obj_True_filter_objects_with_input_True_anchor_source_WordNet_wns_True_wnf_False_swow_score_source_None.CLSB.tsv
save log/bert-large-uncased/clsb/singular/df_all_use_global_dap_True_max_anchor_num_5_anchor_scorer_probAvg_filter_obj_True_filter_objects_with_input_True_anchor_source_WordNet_wns_True_wnf_False_swow_score_source_None.CLSB.csv
debug: False
---------------------------------------- config ----------------------------------------
{'debug': False, 'test_relations': ['IsA'], 'save_all_data': True, 'top_k': 10, 'data_dir': 'data/hypernymsuite/EVAL/', 'mask_string_mapping': {'bert-large-uncased': '[MASK]'}, 'use_dap_global': True, 'return_probs': True, 'anchor_scorer_list': ['probAvg'], 'scorer_target_1_prompt': 'probSum', 'scorer_target_N_prompts': 'freqProbLogSum', 'use_original_prompt': True, 'original_prompt_source': 'masked_sentence', 'incorporate_operations': ['concate_or_single'], 'filter_anchors_flag': True, 'filter_objects_flag': True, 'cpt_only': False, 'anchor_types': ['Coordinate_remove_Y_PUNC_FULL'], 'add_cpt_score': False, 'constrain_targets': False, 'only_wordnet_anchor': False, 'add_wordnet_path_score': True, 'add_wordnet_filter': False, 'anchor_probe': 'plural_probe', 'anchor_col_prefix': 'subj_anchors_wordnet', 'anchor_col': 'subj_anchors_swow', 'anchor_col_sg': 'subj_anchors_swow_sg', 'anchor_col_pl': 'subj_anchors_swow_pl', 'anchor_col_all': 'anchor_col_all', 'filter_objects_with_input': True, 'sub_col': 'sub_label', 'sub_col_sg': 'sub_label_sg', 'sub_col_pl': 'sub_label_pl', 'top_k_anchors': 5, 'max_anchor_num_list': [10], 'max_anchor_num': 10, 'sub_col_sgpl': 'sub_label_sgpl', 'filter_objects_with_anchors': False, 'oracle_anchor_inserted': False, 'use_oracle_anchor': False, 'anchor_source': 'WordNet', 'only_swow_anchor': False, 'add_swow_score': False, 'swow_score_source': 'None', 'add_swow_filter': False, 'dataset': 'EVAL'}
---------------------------------------- config ----------------------------------------
reading cohyponyms: pre_post_process/log/word_to_cohyponyms_score_pl.json
Some weights of the model checkpoint at bert-large-uncased were not used when initializing BertForMaskedLM: ['cls.seq_relationship.bias', 'cls.seq_relationship.weight']
- This IS expected if you are initializing BertForMaskedLM from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertForMaskedLM from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
Some weights of the model checkpoint at bert-large-uncased were not used when initializing BertForMaskedLM: ['cls.seq_relationship.bias', 'cls.seq_relationship.weight']
- This IS expected if you are initializing BertForMaskedLM from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertForMaskedLM from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
---------------------------------------- bert-large-uncased-anchor_type: Coordinate_remove_Y_PUNC_FULL-scorer_anchor:probAvg-op:concate_or_single ----------------------------------------
{
    "IsA": {
        "relation": "IsA",
        "def_sap": [
            "[X] is a [MASK].",
            "[X] is a type of [MASK].",
            "[X] is a kind of [MASK]."
        ],
        "def_dap": [
            "[X] or [Z] is a [MASK].",
            "[X] or [Z] is a type of [MASK].",
            "[X] or [Z] is a kind of [MASK]."
        ],
        "lsp_sap": [
            "[MASK] such as [X].",
            "[MASK], including [X].",
            "[MASK], especially [X].",
            "[X] or other [MASK].",
            "[X] and other [MASK].",
            "such [MASK] as [X]."
        ],
        "lsp_dap": [
            "[MASK] such as [X] and [Z].",
            "[MASK], including [X] and [Z].",
            "[MASK], especially [X] and [Z].",
            "[X], [Z] and other [MASK].",
            "[X], [Z] or other [MASK].",
            "such [MASK] as [X] and [Z]."
        ],
        "use_dap": true,
        "anchor_target": "[X]",
        "anchor_lsp_sap": [
            "such as [X] and [MASK].",
            "such as [X] or [MASK].",
            "such as [X], [MASK],",
            "including [X] and [MASK].",
            "including [X] or [MASK].",
            "including [X], [MASK],",
            "especially [X] and [MASK].",
            "especially [X] or [MASK].",
            "especially [X], [MASK],",
            "[X], [MASK] or other",
            "[X], [MASK] and other"
        ]
    }
}
Processing IsA ... data/hypernymsuite/EVAL//IsA.jsonl
#All Instances: 957
#Valid Instances: 953 in EVAL (hyper in BERT)
	 step1: get anchors (fill and filter)
/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
--- def_sap
--- lsp_sap
/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
relation: IsA 	 use_dap: True
	 step2: insert anchors
sub_col sub_label
                                               def_dap                        subj_anchors_wordnet_sg
0    [an accident or [Z] is a [MASK]., an accident ...       [incident, yes, injury, fire, illnesses]
1    [an accident or [Z] is a [MASK]., an accident ...       [incident, yes, injury, fire, illnesses]
2    [an action or [Z] is a [MASK]., an action or [...     [word, feeling, thought, decision, person]
3    [an action or [Z] is a [MASK]., an action or [...     [word, feeling, thought, decision, person]
4    [an actor or [Z] is a [MASK]., an actor or [Z]...  [director, musician, actress, singer, dancer]
..                                                 ...                                            ...
948  [a world or [Z] is a [MASK]., a world or [Z] i...         [human, dimension, people, maybe, yes]
949  [a world or [Z] is a [MASK]., a world or [Z] i...         [human, dimension, people, maybe, yes]
950  [a worm or [Z] is a [MASK]., a worm or [Z] is ...         [snail, insect, spider, yes, actually]
951  [a writer or [Z] is a [MASK]., a writer or [Z]...        [artist, poet, editor, actor, musician]
952  [a yard or [Z] is a [MASK]., a yard or [Z] is ...        [ground, garden, field, backyard, lawn]

[953 rows x 2 columns]
                                               lsp_dap                            subj_anchors_wordnet_pl
0    [[MASK] such as accidents and [Z]., [MASK], in...       [incidents, yes, injuries, fires, illnesses]
1    [[MASK] such as accidents and [Z]., [MASK], in...       [incidents, yes, injuries, fires, illnesses]
2    [[MASK] such as actions and [Z]., [MASK], incl...    [words, feelings, thoughts, decisions, persons]
3    [[MASK] such as actions and [Z]., [MASK], incl...    [words, feelings, thoughts, decisions, persons]
4    [[MASK] such as actors and [Z]., [MASK], inclu...  [directors, musicians, actresses, singers, dan...
..                                                 ...                                                ...
948  [[MASK] such as worlds and [Z]., [MASK], inclu...            [human, dimensions, people, maybe, yes]
949  [[MASK] such as worlds and [Z]., [MASK], inclu...            [human, dimensions, people, maybe, yes]
950  [[MASK] such as worms and [Z]., [MASK], includ...          [snails, insects, spiders, yes, actually]
951  [[MASK] such as writers and [Z]., [MASK], incl...       [artists, poets, editors, actors, musicians]
952  [[MASK] such as yard and [Z]., [MASK], includi...        [grounds, gardens, fields, backyard, lawns]

[953 rows x 2 columns]
	 step3: fill mask in dap anchors
  0%|          | 0/953 [00:00<?, ?it/s]/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
 24%|██▎       | 226/953 [01:00<03:13,  3.76it/s] 24%|██▎       | 226/953 [01:20<03:13,  3.76it/s] 47%|████▋     | 452/953 [02:00<02:13,  3.76it/s] 47%|████▋     | 452/953 [02:20<02:13,  3.76it/s] 71%|███████   | 678/953 [03:00<01:13,  3.76it/s] 71%|███████   | 678/953 [03:20<01:13,  3.76it/s] 95%|█████████▍| 903/953 [04:00<00:13,  3.75it/s]100%|██████████| 953/953 [04:13<00:00,  3.75it/s]
  0%|          | 0/953 [00:00<?, ?it/s] 12%|█▏        | 114/953 [01:00<07:23,  1.89it/s] 12%|█▏        | 114/953 [01:16<07:23,  1.89it/s] 24%|██▍       | 228/953 [02:00<06:22,  1.89it/s] 24%|██▍       | 228/953 [02:16<06:22,  1.89it/s] 36%|███▌      | 342/953 [03:00<05:22,  1.89it/s] 36%|███▌      | 342/953 [03:16<05:22,  1.89it/s] 48%|████▊     | 456/953 [04:00<04:22,  1.89it/s] 48%|████▊     | 456/953 [04:16<04:22,  1.89it/s] 60%|█████▉    | 570/953 [05:01<03:22,  1.89it/s] 60%|█████▉    | 570/953 [05:16<03:22,  1.89it/s] 72%|███████▏  | 684/953 [06:01<02:22,  1.89it/s] 72%|███████▏  | 684/953 [06:16<02:22,  1.89it/s] 84%|████████▎ | 798/953 [07:01<01:21,  1.89it/s] 84%|████████▎ | 798/953 [07:16<01:21,  1.89it/s] 96%|█████████▌| 912/953 [08:01<00:21,  1.89it/s] 96%|█████████▌| 912/953 [08:16<00:21,  1.89it/s]100%|██████████| 953/953 [08:23<00:00,  1.89it/s]
   sub_label  obj_label relation                                   masked_sentences                                         sub_sister  uuid  sub_position sub_label_sg sub_label_pl                                            def_sap                                            def_dap                                            lsp_sap                                            lsp_dap                                     anchor_lsp_sap                sub_label_sgpl  obj_in_BERT                                  obj_mask_sentence                            obj_mask_sentence_score                                   obj_mask_def_sap                             obj_mask_def_sap_score                                   obj_mask_lsp_sap                             obj_mask_lsp_sap_score                               subj_anchors_wordnet                         subj_anchors_wordnet_score                        subj_anchors_wordnet_sg                            subj_anchors_wordnet_pl  \
0  accidents    [error]      IsA  [An accident is a [MASK]., An accident is an [...  [gravy, convergence, reverse, flash, interrupt...     0             3     accident    accidents  [an accident is a [MASK]., an accident is a ty...  [an accident or [Z] is a [MASK]., an accident ...  [[MASK] such as accidents., [MASK], including ...  [[MASK] such as accidents and [Z]., [MASK], in...  [such as accidents and [MASK]., such as accide...  accidents accident accidents            1  [mistake, disaster, failure, tragedy, crime, c...  {'mistake': -7.604061857774812, 'disaster': -8...  [tragedy, disaster, mistake, catastrophe, crim...  {'tragedy': -8.648991036579575, 'disaster': -8...  [incident, injury, thing, event, causes, disas...  {'incidents': -8.381302205838045, 'injuries': ...  [incidents, yes, injuries, fires, illnesses, c...  {'incidents': 0.15264960266649724, 'yes': 0.05...       [incident, yes, injury, fire, illnesses]       [incidents, yes, injuries, fires, illnesses]   
1  accidents  [mistake]      IsA  [An accident is a [MASK]., An accident is an [...  [gravy, convergence, reverse, flash, interrupt...     1             3     accident    accidents  [an accident is a [MASK]., an accident is a ty...  [an accident or [Z] is a [MASK]., an accident ...  [[MASK] such as accidents., [MASK], including ...  [[MASK] such as accidents and [Z]., [MASK], in...  [such as accidents and [MASK]., such as accide...  accidents accident accidents            1  [mistake, disaster, failure, tragedy, crime, c...  {'mistake': -7.604061857774812, 'disaster': -8...  [tragedy, disaster, mistake, catastrophe, crim...  {'tragedy': -8.648991036579575, 'disaster': -8...  [incident, injury, thing, event, causes, disas...  {'incidents': -8.381302205838045, 'injuries': ...  [incidents, yes, injuries, fires, illnesses, c...  {'incidents': 0.15264960266649724, 'yes': 0.05...       [incident, yes, injury, fire, illnesses]       [incidents, yes, injuries, fires, illnesses]   
2    actions    [event]      IsA  [An action is a [MASK]., An action is an [MASK].]  [job, ironing, omnipotence, degeneration, inte...     2             3       action      actions  [an action is a [MASK]., an action is a type o...  [an action or [Z] is a [MASK]., an action or [...  [[MASK] such as actions., [MASK], including ac...  [[MASK] such as actions and [Z]., [MASK], incl...  [such as actions and [MASK]., such as actions ...        actions action actions            1  [act, idea, statement, process, reaction, cons...  {'act': -8.938543281627771, 'idea': -9.7474822...  [behavior, movement, process, reaction, decisi...  {'behavior': -9.292473658582107, 'movement': -...  [thing, act, emotion, thought, event, feeling,...  {'things': -8.395079900742743, 'acts': -9.6160...  [words, feelings, thoughts, decisions, persons...  {'words': 0.05404121623459188, 'feelings': 0.0...     [word, feeling, thought, decision, person]    [words, feelings, thoughts, decisions, persons]   
3    actions     [work]      IsA  [An action is a [MASK]., An action is an [MASK].]  [job, ironing, omnipotence, degeneration, inte...     3             3       action      actions  [an action is a [MASK]., an action is a type o...  [an action or [Z] is a [MASK]., an action or [...  [[MASK] such as actions., [MASK], including ac...  [[MASK] such as actions and [Z]., [MASK], incl...  [such as actions and [MASK]., such as actions ...        actions action actions            1  [act, idea, statement, process, reaction, cons...  {'act': -8.938543281627771, 'idea': -9.7474822...  [behavior, movement, process, reaction, decisi...  {'behavior': -9.292473658582107, 'movement': -...  [thing, act, emotion, thought, event, feeling,...  {'things': -8.395079900742743, 'acts': -9.6160...  [words, feelings, thoughts, decisions, persons...  {'words': 0.05404121623459188, 'feelings': 0.0...     [word, feeling, thought, decision, person]    [words, feelings, thoughts, decisions, persons]   
4     actors   [person]      IsA    [An actor is a [MASK]., An actor is an [MASK].]  [quester, white, signer, knocker, granter, nam...     4             3        actor       actors  [an actor is a [MASK]., an actor is a type of ...  [an actor or [Z] is a [MASK]., an actor or [Z]...  [[MASK] such as actors., [MASK], including act...  [[MASK] such as actors and [Z]., [MASK], inclu...  [such as actors and [MASK]., such as actors or...           actors actor actors            1  [performer, singer, musician, writer, person, ...  {'performer': -7.68316421097708, 'singer': -8....  [person, performer, musician, writer, singer, ...  {'person': -7.954193489394565, 'performer': -8...  [artist, performer, people, professional, cele...  {'artists': -7.7648846420167414, 'performers':...  [directors, musicians, actresses, singers, dan...  {'directors': 0.1862686418674209, 'musicians':...  [director, musician, actress, singer, dancer]  [directors, musicians, actresses, singers, dan...   

                            subj_anchors_wordnet_all         subj_anchors_combined  anchor_num                           def_dap_with_subj_anchor                           lsp_dap_with_subj_anchor                                   obj_mask_def_dap                             obj_mask_def_dap_score                                   obj_mask_lsp_dap                             obj_mask_lsp_dap_score  
0  [incident, yes, injury, fire, illnesses, child...  accidents accident accidents          10  [an accident or an incident is a [MASK]., an a...  [[MASK] such as accidents and incidents., [MAS...  [crime, injury, tragedy, disaster, catastrophe...  {'crime': -8.845349431417057, 'injury': -9.029...  [thing, incident, injury, event, causes, matte...  {'things': -8.737911204742053, 'incidents': -8...  
1  [incident, yes, injury, fire, illnesses, child...  accidents accident accidents          10  [an accident or an incident is a [MASK]., an a...  [[MASK] such as accidents and incidents., [MAS...  [crime, injury, tragedy, disaster, catastrophe...  {'crime': -8.845349431417057, 'injury': -9.029...  [thing, incident, injury, event, causes, matte...  {'things': -8.737911204742053, 'incidents': -8...  
2  [word, feeling, thought, decision, person, emo...        actions action actions          10  [an action or a word is a [MASK]., an action o...  [[MASK] such as actions and words., [MASK] suc...  [decision, thing, person, statement, concept, ...  {'decision': -9.522891327148402, 'thing': -10....  [thing, emotion, thought, feeling, concept, pe...  {'things': -7.700017933528187, 'emotions': -9....  
3  [word, feeling, thought, decision, person, emo...        actions action actions          10  [an action or a word is a [MASK]., an action o...  [[MASK] such as actions and words., [MASK] suc...  [decision, thing, person, statement, concept, ...  {'decision': -9.522891327148402, 'thing': -10....  [thing, emotion, thought, feeling, concept, pe...  {'things': -7.700017933528187, 'emotions': -9....  
4  [director, musician, actress, singer, dancer, ...           actors actor actors          10  [an actor or a director is a [MASK]., an actor...  [[MASK] such as actors and directors., [MASK] ...  [person, musician, performer, artist, singer, ...  {'person': -6.413796532357328, 'musician': -7....  [artist, performer, professional, people, musi...  {'artists': -7.0007960958948825, 'performers':...  
---------------------------------------- anchor evaluation ----------------------------------------
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:882: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'mrr_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: get_highest_mrr_among_labels(x[0], x[1]), axis=1 )
anchored_prompts.py:882: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'mrr_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: get_highest_mrr_among_labels(x[0], x[1]), axis=1 )
begin{tabular}{rlrrrr}
hline
    	 mask_type                	   p@1 	   p@5 	   p@10 	   mrr 
hline
  0 	 subj_anchors_wordnet_sg  	    37 	    66 	   66   	  47.5 
  1 	 subj_anchors_wordnet_all 	    37 	    66 	   77.8 	  49.1 
hline
end{tabular}
---------------------------------------- obj_label evaluation ----------------------------------------
begin{tabular}{rlrrrrr}
hline
    	 mask_type   	   p@1 	   p@5 	   p@10 	   mrr 	   mask_type_id 
hline
  1 	 def_sap     	  14.8 	  36   	   46.7 	  24   	              1 
  2 	 lsp_sap     	   7.8 	  27.3 	   38.1 	  16   	              3 
  3 	 def_dap     	  14   	  35   	   45.6 	  23   	              2 
  4 	 lsp_dap     	   9.2 	  25.8 	   38.3 	  16.8 	              4 
hline
end{tabular}
save log/bert-large-uncased/hypernymsuite/EVAL/df_all_use_global_dap_True_max_anchor_num_5_anchor_scorer_probAvg_filter_obj_True_filter_objects_with_input_True_anchor_source_WordNet_wns_True_wnf_False_swow_score_source_None.EVAL.tsv
save log/bert-large-uncased/hypernymsuite/EVAL/df_all_use_global_dap_True_max_anchor_num_5_anchor_scorer_probAvg_filter_obj_True_filter_objects_with_input_True_anchor_source_WordNet_wns_True_wnf_False_swow_score_source_None.EVAL.csv
debug: False
---------------------------------------- config ----------------------------------------
{'debug': False, 'test_relations': ['IsA'], 'save_all_data': True, 'top_k': 10, 'data_dir': 'data/hypernymsuite/LEDS/', 'mask_string_mapping': {'bert-large-uncased': '[MASK]'}, 'use_dap_global': True, 'return_probs': True, 'anchor_scorer_list': ['probAvg'], 'scorer_target_1_prompt': 'probSum', 'scorer_target_N_prompts': 'freqProbLogSum', 'use_original_prompt': True, 'original_prompt_source': 'masked_sentence', 'incorporate_operations': ['concate_or_single'], 'filter_anchors_flag': True, 'filter_objects_flag': True, 'cpt_only': False, 'anchor_types': ['Coordinate_remove_Y_PUNC_FULL'], 'add_cpt_score': False, 'constrain_targets': False, 'only_wordnet_anchor': False, 'add_wordnet_path_score': True, 'add_wordnet_filter': False, 'anchor_probe': 'plural_probe', 'anchor_col_prefix': 'subj_anchors_wordnet', 'anchor_col': 'subj_anchors_swow', 'anchor_col_sg': 'subj_anchors_swow_sg', 'anchor_col_pl': 'subj_anchors_swow_pl', 'anchor_col_all': 'anchor_col_all', 'filter_objects_with_input': True, 'sub_col': 'sub_label', 'sub_col_sg': 'sub_label_sg', 'sub_col_pl': 'sub_label_pl', 'top_k_anchors': 5, 'max_anchor_num_list': [10], 'max_anchor_num': 10, 'sub_col_sgpl': 'sub_label_sgpl', 'filter_objects_with_anchors': False, 'oracle_anchor_inserted': False, 'use_oracle_anchor': False, 'anchor_source': 'WordNet', 'only_swow_anchor': False, 'add_swow_score': False, 'swow_score_source': 'None', 'add_swow_filter': False, 'dataset': 'LEDS'}
---------------------------------------- config ----------------------------------------
reading cohyponyms: pre_post_process/log/word_to_cohyponyms_score_pl.json
Some weights of the model checkpoint at bert-large-uncased were not used when initializing BertForMaskedLM: ['cls.seq_relationship.weight', 'cls.seq_relationship.bias']
- This IS expected if you are initializing BertForMaskedLM from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertForMaskedLM from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
Some weights of the model checkpoint at bert-large-uncased were not used when initializing BertForMaskedLM: ['cls.seq_relationship.weight', 'cls.seq_relationship.bias']
- This IS expected if you are initializing BertForMaskedLM from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertForMaskedLM from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
---------------------------------------- bert-large-uncased-anchor_type: Coordinate_remove_Y_PUNC_FULL-scorer_anchor:probAvg-op:concate_or_single ----------------------------------------
{
    "IsA": {
        "relation": "IsA",
        "def_sap": [
            "[X] is a [MASK].",
            "[X] is a type of [MASK].",
            "[X] is a kind of [MASK]."
        ],
        "def_dap": [
            "[X] or [Z] is a [MASK].",
            "[X] or [Z] is a type of [MASK].",
            "[X] or [Z] is a kind of [MASK]."
        ],
        "lsp_sap": [
            "[MASK] such as [X].",
            "[MASK], including [X].",
            "[MASK], especially [X].",
            "[X] or other [MASK].",
            "[X] and other [MASK].",
            "such [MASK] as [X]."
        ],
        "lsp_dap": [
            "[MASK] such as [X] and [Z].",
            "[MASK], including [X] and [Z].",
            "[MASK], especially [X] and [Z].",
            "[X], [Z] and other [MASK].",
            "[X], [Z] or other [MASK].",
            "such [MASK] as [X] and [Z]."
        ],
        "use_dap": true,
        "anchor_target": "[X]",
        "anchor_lsp_sap": [
            "such as [X] and [MASK].",
            "such as [X] or [MASK].",
            "such as [X], [MASK],",
            "including [X] and [MASK].",
            "including [X] or [MASK].",
            "including [X], [MASK],",
            "especially [X] and [MASK].",
            "especially [X] or [MASK].",
            "especially [X], [MASK],",
            "[X], [MASK] or other",
            "[X], [MASK] and other"
        ]
    }
}
Processing IsA ... data/hypernymsuite/LEDS//IsA.jsonl
#All Instances: 1385
#Valid Instances: 1262 in LEDS (hyper in BERT)
	 step1: get anchors (fill and filter)
/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
--- def_sap
--- lsp_sap
/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
relation: IsA 	 use_dap: True
	 step2: insert anchors
sub_col sub_label
                                                def_dap                            subj_anchors_wordnet_sg
0     [an etching or [Z] is a [MASK]., an etching or...   [engraving, painting, print, drawing, sculpture]
1     [a decrease or [Z] is a [MASK]., a decrease or...  [increases, respectively, vs, addition, increase]
2     [a dinghy or [Z] is a [MASK]., a dinghy or [Z]...         [boat, submarine, ferry, ship, helicopter]
3     [a tie or [Z] is a [MASK]., a tie or [Z] is a ...                    [draw, loss, suit, knot, catch]
4     [a batsman or [Z] is a [MASK]., a batsman or [...        [player, captain, opener, manager, bowling]
...                                                 ...                                                ...
1257  [a typography or [Z] is a [MASK]., a typograph...               [poster, map, photograph, book, etc]
1258  [a tench or [Z] is a [MASK]., a tench or [Z] i...                  [horse, wine, spain, poems, bell]
1259  [an army or [Z] is a [MASK]., an army or [Z] i...          [fleet, yes, war, especially, government]
1260  [a fresco or [Z] is a [MASK]., a fresco or [Z]...   [sculpture, ceramics, painting, graphic, mosaic]
1261  [a hare or [Z] is a [MASK]., a hare or [Z] is ...                  [rabbit, game, hounds, lamb, fox]

[1262 rows x 2 columns]
                                                lsp_dap                            subj_anchors_wordnet_pl
0     [[MASK] such as etching and [Z]., [MASK], incl...  [engraving, painting, prints, drawing, sculptu...
1     [[MASK] such as decreases and [Z]., [MASK], in...  [increases, respectively, vs, additions, incre...
2     [[MASK] such as dinghies and [Z]., [MASK], inc...   [boats, submarines, ferries, ships, helicopters]
3     [[MASK] such as tie and [Z]., [MASK], includin...                [draw, losses, suits, knots, catch]
4     [[MASK] such as batsmen and [Z]., [MASK], incl...    [players, captains, openers, managers, bowling]
...                                                 ...                                                ...
1257  [[MASK] such as typographies and [Z]., [MASK],...           [posters, maps, photographs, books, etc]
1258  [[MASK] such as tenches and [Z]., [MASK], incl...               [horses, wines, spain, poems, bells]
1259  [[MASK] such as armies and [Z]., [MASK], inclu...       [fleets, yes, wars, especially, governments]
1260  [[MASK] such as frescoes and [Z]., [MASK], inc...  [sculptures, ceramics, paintings, graphics, mo...
1261  [[MASK] such as hare and [Z]., [MASK], includi...                [rabbits, games, hounds, lamb, fox]

[1262 rows x 2 columns]
	 step3: fill mask in dap anchors
  0%|          | 0/1262 [00:00<?, ?it/s]/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
 18%|█▊        | 225/1262 [01:00<04:37,  3.74it/s] 18%|█▊        | 225/1262 [01:20<04:37,  3.74it/s] 36%|███▌      | 450/1262 [02:00<03:37,  3.74it/s] 36%|███▌      | 450/1262 [02:20<03:37,  3.74it/s] 53%|█████▎    | 675/1262 [03:00<02:37,  3.74it/s] 53%|█████▎    | 675/1262 [03:20<02:37,  3.74it/s] 71%|███████▏  | 900/1262 [04:00<01:36,  3.74it/s] 71%|███████▏  | 900/1262 [04:20<01:36,  3.74it/s] 89%|████████▉ | 1125/1262 [05:01<00:36,  3.74it/s] 89%|████████▉ | 1125/1262 [05:20<00:36,  3.74it/s]100%|██████████| 1262/1262 [05:37<00:00,  3.74it/s]
  0%|          | 0/1262 [00:00<?, ?it/s]  9%|▉         | 113/1262 [01:00<10:11,  1.88it/s]  9%|▉         | 113/1262 [01:12<10:11,  1.88it/s] 18%|█▊        | 226/1262 [02:00<09:10,  1.88it/s] 18%|█▊        | 226/1262 [02:12<09:10,  1.88it/s] 27%|██▋       | 339/1262 [03:00<08:10,  1.88it/s] 27%|██▋       | 339/1262 [03:12<08:10,  1.88it/s] 36%|███▌      | 452/1262 [04:00<07:10,  1.88it/s] 36%|███▌      | 452/1262 [04:12<07:10,  1.88it/s] 45%|████▍     | 565/1262 [05:00<06:10,  1.88it/s] 45%|████▍     | 565/1262 [05:12<06:10,  1.88it/s] 54%|█████▎    | 678/1262 [06:00<05:10,  1.88it/s] 54%|█████▎    | 678/1262 [06:12<05:10,  1.88it/s] 63%|██████▎   | 791/1262 [07:00<04:10,  1.88it/s] 63%|██████▎   | 791/1262 [07:12<04:10,  1.88it/s] 72%|███████▏  | 904/1262 [08:00<03:10,  1.88it/s] 72%|███████▏  | 904/1262 [08:12<03:10,  1.88it/s] 81%|████████  | 1017/1262 [09:01<02:10,  1.88it/s] 81%|████████  | 1017/1262 [09:12<02:10,  1.88it/s] 90%|████████▉ | 1130/1262 [10:01<01:10,  1.88it/s] 90%|████████▉ | 1130/1262 [10:12<01:10,  1.88it/s] 98%|█████████▊| 1243/1262 [11:01<00:10,  1.88it/s]100%|██████████| 1262/1262 [11:11<00:00,  1.88it/s]
   sub_label   obj_label relation                                   masked_sentences                                         sub_sister  uuid  sub_position sub_label_sg sub_label_pl                                            def_sap                                            def_dap                                            lsp_sap                                            lsp_dap                                     anchor_lsp_sap                sub_label_sgpl  obj_in_BERT                                  obj_mask_sentence                            obj_mask_sentence_score                                   obj_mask_def_sap                             obj_mask_def_sap_score                                   obj_mask_lsp_sap                             obj_mask_lsp_sap_score                               subj_anchors_wordnet                         subj_anchors_wordnet_score                            subj_anchors_wordnet_sg                            subj_anchors_wordnet_pl  \
0    etching       [art]      IsA  [An etching is a [MASK]., An etching is an [MA...  [halftone, serigraphy, woodcut, lithography, p...     0             3      etching      etching  [an etching is a [MASK]., an etching is a type...  [an etching or [Z] is a [MASK]., an etching or...  [[MASK] such as etching., [MASK], including et...  [[MASK] such as etching and [Z]., [MASK], incl...  [such as etching and [MASK]., such as etching ...       etching etching etching            1  [drawing, illustration, painting, engraving, p...  {'drawing': -6.798399279520061, 'illustration'...  [drawing, painting, engraving, print, illustra...  {'drawing': -6.167860487330729, 'painting': -6...  [thing, technique, art, drawing, painting, wor...  {'things': -7.88263134598992, 'techniques': -8...  [engraving, painting, print, drawing, sculptur...  {'engraving': 1.4049466320059516, 'painting': ...   [engraving, painting, print, drawing, sculpture]  [engraving, painting, prints, drawing, sculptu...   
1  decreases    [change]      IsA  [A decrease is a [MASK]., A decrease is an [MA...  [birth, nascency, defining, dealignment, degen...     2             2     decrease    decreases  [a decrease is a [MASK]., a decrease is a type...  [a decrease or [Z] is a [MASK]., a decrease or...  [[MASK] such as decreases., [MASK], including ...  [[MASK] such as decreases and [Z]., [MASK], in...  [such as decreases and [MASK]., such as decrea...  decreases decrease decreases            1  [increase, gain, loss, improvement, maximum, r...  {'increase': -6.402507361409926, 'gain': -6.77...  [increase, gain, loss, change, reduction, expa...  {'increase': -7.421413369852303, 'gain': -8.46...  [causes, increases, change, factor, means, eff...  {'causes': -8.435093703711, 'increases': -8.43...  [increases, respectively, vs, additions, incre...  {'increases': 0.695974740115079, 'respectively...  [increases, respectively, vs, addition, increase]  [increases, respectively, vs, additions, incre...   
2   dinghies      [boat]      IsA    [A dinghy is a [MASK]., A dinghy is an [MASK].]  [canoe, cockleshell, gig, rowboat, dory, yawl,...     3             2       dinghy     dinghies  [a dinghy is a [MASK]., a dinghy is a type of ...  [a dinghy or [Z] is a [MASK]., a dinghy or [Z]...  [[MASK] such as dinghies., [MASK], including d...  [[MASK] such as dinghies and [Z]., [MASK], inc...  [such as dinghies and [MASK]., such as dinghie...      dinghies dinghy dinghies            1  [aircraft, airship, yacht, boat, automobile, e...  {'aircraft': -6.9738131185113055, 'airship': -...  [boat, yacht, vessel, sailing, sail, ship, cra...  {'boat': -5.155298464348918, 'yacht': -5.60234...  [boat, thing, ship, sailing, vessel, yacht, cr...  {'boats': -4.961173063122545, 'things': -9.064...  [boats, submarines, ferries, ships, helicopter...  {'boats': 0.44899788905273785, 'submarines': 0...         [boat, submarine, ferry, ship, helicopter]   [boats, submarines, ferries, ships, helicopters]   
3        tie  [clothing]      IsA          [A tie is a [MASK]., A tie is an [MASK].]  [lanyard, gusset, eyelet, chenille, balk, stri...     5             2          tie          tie  [a tie is a [MASK]., a tie is a type of [MASK]...  [a tie or [Z] is a [MASK]., a tie or [Z] is a ...  [[MASK] such as tie., [MASK], including tie., ...  [[MASK] such as tie and [Z]., [MASK], includin...  [such as tie and [MASK]., such as tie or [MASK...                   tie tie tie            1  [object, knot, order, anchor, agreement, arrow...  {'object': -8.206908354643717, 'knot': -9.0139...  [knot, shirt, belt, ribbon, jacket, clothing, ...  {'knot': -9.035804536093991, 'shirt': -10.4270...  [yes, thing, brand, yeah, tie, wins, problem, ...  {'yes': -8.920535460424064, 'things': -8.96685...  [draw, loss, suit, knot, catch, button, pin, p...  {'draw': 1.013163403607905, 'loss': 0.59679774...                    [draw, loss, suit, knot, catch]                [draw, losses, suits, knots, catch]   
4    batsmen   [athlete]      IsA  [A batsman is a [MASK]., A batsman is an [MASK].]  [hurler, hitter, batter, pitcher, fielder, twi...     6             2      batsman      batsmen  [a batsman is a [MASK]., a batsman is a type o...  [a batsman or [Z] is a [MASK]., a batsman or [...  [[MASK] such as batsmen., [MASK], including ba...  [[MASK] such as batsmen and [Z]., [MASK], incl...  [such as batsmen and [MASK]., such as batsmen ...       batsmen batsman batsmen            1  [bowler, opener, outfielder, catcher, batter, ...  {'bowler': -6.232246258775115, 'opener': -7.88...  [cricketer, footballer, player, bowler, athlet...  {'cricketer': -7.3063472463640675, 'footballer...  [player, thing, batting, people, man, team, po...  {'players': -5.269524161883701, 'things': -11....  [players, captains, opener, managers, bowling,...  {'players': 0.16115271571007642, 'captains': 0...        [player, captain, opener, manager, bowling]    [players, captains, openers, managers, bowling]   

                            subj_anchors_wordnet_all         subj_anchors_combined  anchor_num                           def_dap_with_subj_anchor                           lsp_dap_with_subj_anchor                                   obj_mask_def_dap                             obj_mask_def_dap_score                                   obj_mask_lsp_dap                             obj_mask_lsp_dap_score  
0  [engraving, painting, print, drawing, sculptur...       etching etching etching          10  [an etching or an engraving is a [MASK]., an e...  [[MASK] such as etching and engraving., [MASK]...  [drawing, painting, print, artwork, illustrati...  {'drawing': -6.514772308828686, 'painting': -6...  [art, works, technique, drawing, medium, paint...  {'art': -7.39653165459534, 'arts': -8.03591316...  
1  [increases, respectively, vs, addition, increa...  decreases decrease decreases          10  [a decrease or an increases is a [MASK]., a de...  [[MASK] such as decreases and increases., [MAS...  [increase, change, reduction, loss, constant, ...  {'increase': -7.7426843384560735, 'change': -7...  [thing, change, factor, variable, increases, f...  {'things': -8.71067583831256, 'changes': -9.76...  
2  [boat, submarine, ferry, ship, helicopter, yac...      dinghies dinghy dinghies          10  [a dinghy or a boat is a [MASK]., a dinghy or ...  [[MASK] such as dinghies and boats., [MASK] su...  [boat, vessel, yacht, ship, helicopter, craft,...  {'boat': -5.01373784606746, 'vessel': -7.18710...  [boat, vessel, ship, craft, vehicle, thing, ai...  {'boats': -5.771221237455266, 'vessels': -8.08...  
3  [draw, loss, suit, knot, catch, button, pin, p...                   tie tie tie          10  [a tie or a draw is a [MASK]., a tie or a loss...  [[MASK] such as tie and draw., [MASK] such as ...  [knot, game, loss, draw, suit, rope, dress, ja...  {'knot': -6.956585362842351, 'game': -8.304248...  [thing, knot, suit, game, record, clothes, acc...  {'things': -8.79629233698344, 'knots': -9.2867...  
4  [player, captain, opener, manager, bowling, in...       batsmen batsman batsmen          10  [a batsman or a player is a [MASK]., a batsman...  [[MASK] such as batsmen and players., [MASK] s...  [player, cricketer, footballer, person, athlet...  {'player': -7.470582839281936, 'cricketer': -8...  [player, sport, position, official, people, te...  {'players': -6.187006638307553, 'sports': -10....  
---------------------------------------- anchor evaluation ----------------------------------------
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:882: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'mrr_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: get_highest_mrr_among_labels(x[0], x[1]), axis=1 )
anchored_prompts.py:882: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'mrr_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: get_highest_mrr_among_labels(x[0], x[1]), axis=1 )
begin{tabular}{rlrrrr}
hline
    	 mask_type                	   p@1 	   p@5 	   p@10 	   mrr 
hline
  0 	 subj_anchors_wordnet_sg  	  33.8 	  57.2 	   57.2 	  42.8 
  1 	 subj_anchors_wordnet_all 	  33.8 	  57.2 	   63.7 	  43.6 
hline
end{tabular}
---------------------------------------- obj_label evaluation ----------------------------------------
begin{tabular}{rlrrrrr}
hline
    	 mask_type   	   p@1 	   p@5 	   p@10 	   mrr 	   mask_type_id 
hline
  1 	 def_sap     	  20.6 	  49   	   60.1 	  32.6 	              1 
  2 	 lsp_sap     	  20   	  46.4 	   57.7 	  31.1 	              3 
  3 	 def_dap     	  25   	  54.9 	   67.4 	  37.6 	              2 
  4 	 lsp_dap     	  22.8 	  51   	   62.1 	  35   	              4 
hline
end{tabular}
save log/bert-large-uncased/hypernymsuite/LEDS/df_all_use_global_dap_True_max_anchor_num_5_anchor_scorer_probAvg_filter_obj_True_filter_objects_with_input_True_anchor_source_WordNet_wns_True_wnf_False_swow_score_source_None.LEDS.tsv
save log/bert-large-uncased/hypernymsuite/LEDS/df_all_use_global_dap_True_max_anchor_num_5_anchor_scorer_probAvg_filter_obj_True_filter_objects_with_input_True_anchor_source_WordNet_wns_True_wnf_False_swow_score_source_None.LEDS.csv
debug: False
---------------------------------------- config ----------------------------------------
{'debug': False, 'test_relations': ['IsA'], 'save_all_data': True, 'top_k': 10, 'data_dir': 'data/hypernymsuite/SHWARTZ/', 'mask_string_mapping': {'bert-large-uncased': '[MASK]'}, 'use_dap_global': True, 'return_probs': True, 'anchor_scorer_list': ['probAvg'], 'scorer_target_1_prompt': 'probSum', 'scorer_target_N_prompts': 'freqProbLogSum', 'use_original_prompt': True, 'original_prompt_source': 'masked_sentence', 'incorporate_operations': ['concate_or_single'], 'filter_anchors_flag': True, 'filter_objects_flag': True, 'cpt_only': False, 'anchor_types': ['Coordinate_remove_Y_PUNC_FULL'], 'add_cpt_score': False, 'constrain_targets': False, 'only_wordnet_anchor': False, 'add_wordnet_path_score': True, 'add_wordnet_filter': False, 'anchor_probe': 'plural_probe', 'anchor_col_prefix': 'subj_anchors_wordnet', 'anchor_col': 'subj_anchors_swow', 'anchor_col_sg': 'subj_anchors_swow_sg', 'anchor_col_pl': 'subj_anchors_swow_pl', 'anchor_col_all': 'anchor_col_all', 'filter_objects_with_input': True, 'sub_col': 'sub_label', 'sub_col_sg': 'sub_label_sg', 'sub_col_pl': 'sub_label_pl', 'top_k_anchors': 5, 'max_anchor_num_list': [10], 'max_anchor_num': 10, 'sub_col_sgpl': 'sub_label_sgpl', 'filter_objects_with_anchors': False, 'oracle_anchor_inserted': False, 'use_oracle_anchor': False, 'anchor_source': 'WordNet', 'only_swow_anchor': False, 'add_swow_score': False, 'swow_score_source': 'None', 'add_swow_filter': False, 'dataset': 'SHWARTZ'}
---------------------------------------- config ----------------------------------------
reading cohyponyms: pre_post_process/log/word_to_cohyponyms_score_pl.json
Some weights of the model checkpoint at bert-large-uncased were not used when initializing BertForMaskedLM: ['cls.seq_relationship.bias', 'cls.seq_relationship.weight']
- This IS expected if you are initializing BertForMaskedLM from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertForMaskedLM from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
Some weights of the model checkpoint at bert-large-uncased were not used when initializing BertForMaskedLM: ['cls.seq_relationship.bias', 'cls.seq_relationship.weight']
- This IS expected if you are initializing BertForMaskedLM from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertForMaskedLM from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
---------------------------------------- bert-large-uncased-anchor_type: Coordinate_remove_Y_PUNC_FULL-scorer_anchor:probAvg-op:concate_or_single ----------------------------------------
{
    "IsA": {
        "relation": "IsA",
        "def_sap": [
            "[X] is a [MASK].",
            "[X] is a type of [MASK].",
            "[X] is a kind of [MASK]."
        ],
        "def_dap": [
            "[X] or [Z] is a [MASK].",
            "[X] or [Z] is a type of [MASK].",
            "[X] or [Z] is a kind of [MASK]."
        ],
        "lsp_sap": [
            "[MASK] such as [X].",
            "[MASK], including [X].",
            "[MASK], especially [X].",
            "[X] or other [MASK].",
            "[X] and other [MASK].",
            "such [MASK] as [X]."
        ],
        "lsp_dap": [
            "[MASK] such as [X] and [Z].",
            "[MASK], including [X] and [Z].",
            "[MASK], especially [X] and [Z].",
            "[X], [Z] and other [MASK].",
            "[X], [Z] or other [MASK].",
            "such [MASK] as [X] and [Z]."
        ],
        "use_dap": true,
        "anchor_target": "[X]",
        "anchor_lsp_sap": [
            "such as [X] and [MASK].",
            "such as [X] or [MASK].",
            "such as [X], [MASK],",
            "including [X] and [MASK].",
            "including [X] or [MASK].",
            "including [X], [MASK],",
            "especially [X] and [MASK].",
            "especially [X] or [MASK].",
            "especially [X], [MASK],",
            "[X], [MASK] or other",
            "[X], [MASK] and other"
        ]
    }
}
Processing IsA ... data/hypernymsuite/SHWARTZ//IsA.jsonl
#All Instances: 12994
#Valid Instances: 12724 in SHWARTZ (hyper in BERT)
	 step1: get anchors (fill and filter)
/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
--- def_sap
--- lsp_sap
/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
relation: IsA 	 use_dap: True
	 step2: insert anchors
sub_col sub_label
                                                 def_dap                            subj_anchors_wordnet_sg
0      [a golo or [Z] is a [MASK]., a golo or [Z] is ...                  [human, bird, dog, animal, italy]
1      [a kerrobert or [Z] is a [MASK]., a kerrobert ...           [human, germany, france, robert, person]
2      [a geometria or [Z] is a [MASK]., a geometria ...  [geometry, sphere, mathematics, physics, astro...
3      [an evaporation or [Z] is a [MASK]., an evapor...    [precipitation, convection, water, rain, vapor]
4      [a bonehead or [Z] is a [MASK]., a bonehead or...           [woman, apparently, idiot, human, maybe]
...                                                  ...                                                ...
12719  [a fresco or [Z] is a [MASK]., a fresco or [Z]...   [sculpture, ceramics, painting, graphic, mosaic]
12720  [a mongrel or [Z] is a [MASK]., a mongrel or [...                   [dog, canine, wolf, animal, fox]
12721  [a dimension or [Z] is a [MASK]., a dimension ...  [physical, angles, material, shapes, measurement]
12722  [a tronador or [Z] is a [MASK]., a tronador or...           [thief, human, mexico, bandit, criminal]
12723  [a repulsion or [Z] is a [MASK]., a repulsion ...  [reaction, shock, effect, attraction, interact...

[12724 rows x 2 columns]
                                                 lsp_dap                            subj_anchors_wordnet_pl
0      [[MASK] such as golo and [Z]., [MASK], includi...               [human, birds, dogs, animals, italy]
1      [[MASK] such as kerrobert and [Z]., [MASK], in...          [human, germany, france, robert, persons]
2      [[MASK] such as geometria and [Z]., [MASK], in...  [geometries, spheres, mathematics, physics, as...
3      [[MASK] such as evaporations and [Z]., [MASK],...  [precipitations, convection, waters, rains, va...
4      [[MASK] such as boneheads and [Z]., [MASK], in...          [women, apparently, idiots, human, maybe]
...                                                  ...                                                ...
12719  [[MASK] such as frescoes and [Z]., [MASK], inc...  [sculptures, ceramics, paintings, graphics, mo...
12720  [[MASK] such as mongrel and [Z]., [MASK], incl...                 [dogs, canine, wolf, animals, fox]
12721  [[MASK] such as dimensions and [Z]., [MASK], i...  [physical, angles, materials, shapes, measurem...
12722  [[MASK] such as tronadors and [Z]., [MASK], in...       [thieves, human, mexico, bandits, criminals]
12723  [[MASK] such as repulsions and [Z]., [MASK], i...  [reactions, shocks, effects, attractions, inte...

[12724 rows x 2 columns]
	 step3: fill mask in dap anchors
  0%|          | 0/12724 [00:00<?, ?it/s]/home/chunhua/.local/lib/python3.8/site-packages/transformers/pipelines/base.py:1043: UserWarning: You seem to be using the pipelines sequentially on GPU. In order to maximize efficiency please use a dataset
  warnings.warn(
  2%|▏         | 224/12724 [01:00<55:53,  3.73it/s]  2%|▏         | 224/12724 [01:20<55:53,  3.73it/s]  4%|▎         | 448/12724 [02:00<54:54,  3.73it/s]  4%|▎         | 448/12724 [02:20<54:54,  3.73it/s]  5%|▌         | 672/12724 [03:00<53:55,  3.72it/s]  5%|▌         | 672/12724 [03:20<53:55,  3.72it/s]  7%|▋         | 896/12724 [04:00<52:55,  3.72it/s]  7%|▋         | 896/12724 [04:20<52:55,  3.72it/s]  9%|▉         | 1120/12724 [05:00<51:54,  3.73it/s]  9%|▉         | 1120/12724 [05:20<51:54,  3.73it/s] 11%|█         | 1344/12724 [06:00<50:54,  3.73it/s] 11%|█         | 1344/12724 [06:20<50:54,  3.73it/s] 12%|█▏        | 1568/12724 [07:00<49:54,  3.73it/s] 12%|█▏        | 1568/12724 [07:20<49:54,  3.73it/s] 14%|█▍        | 1792/12724 [08:01<48:54,  3.72it/s] 14%|█▍        | 1792/12724 [08:20<48:54,  3.72it/s] 16%|█▌        | 2016/12724 [09:01<47:54,  3.72it/s] 16%|█▌        | 2016/12724 [09:20<47:54,  3.72it/s] 18%|█▊        | 2240/12724 [10:01<46:55,  3.72it/s] 18%|█▊        | 2240/12724 [10:20<46:55,  3.72it/s] 19%|█▉        | 2464/12724 [11:01<45:55,  3.72it/s] 19%|█▉        | 2464/12724 [11:20<45:55,  3.72it/s] 21%|██        | 2688/12724 [12:01<44:55,  3.72it/s] 21%|██        | 2688/12724 [12:20<44:55,  3.72it/s] 23%|██▎       | 2912/12724 [13:01<43:55,  3.72it/s] 23%|██▎       | 2912/12724 [13:20<43:55,  3.72it/s] 25%|██▍       | 3136/12724 [14:02<42:55,  3.72it/s] 25%|██▍       | 3136/12724 [14:20<42:55,  3.72it/s] 26%|██▋       | 3360/12724 [15:02<41:55,  3.72it/s] 26%|██▋       | 3360/12724 [15:20<41:55,  3.72it/s] 28%|██▊       | 3584/12724 [16:02<40:54,  3.72it/s] 28%|██▊       | 3584/12724 [16:20<40:54,  3.72it/s] 30%|██▉       | 3808/12724 [17:02<39:54,  3.72it/s] 30%|██▉       | 3808/12724 [17:20<39:54,  3.72it/s] 32%|███▏      | 4032/12724 [18:02<38:54,  3.72it/s] 32%|███▏      | 4032/12724 [18:20<38:54,  3.72it/s] 33%|███▎      | 4256/12724 [19:02<37:54,  3.72it/s] 33%|███▎      | 4256/12724 [19:20<37:54,  3.72it/s] 35%|███▌      | 4480/12724 [20:03<36:54,  3.72it/s] 35%|███▌      | 4480/12724 [20:20<36:54,  3.72it/s] 37%|███▋      | 4704/12724 [21:03<35:54,  3.72it/s] 37%|███▋      | 4704/12724 [21:20<35:54,  3.72it/s] 39%|███▊      | 4928/12724 [22:03<34:54,  3.72it/s] 39%|███▊      | 4928/12724 [22:20<34:54,  3.72it/s] 40%|████      | 5152/12724 [23:03<33:54,  3.72it/s] 40%|████      | 5152/12724 [23:20<33:54,  3.72it/s] 42%|████▏     | 5376/12724 [24:03<32:54,  3.72it/s] 42%|████▏     | 5376/12724 [24:20<32:54,  3.72it/s] 44%|████▍     | 5600/12724 [25:04<31:54,  3.72it/s] 44%|████▍     | 5600/12724 [25:20<31:54,  3.72it/s] 46%|████▌     | 5824/12724 [26:04<30:55,  3.72it/s] 46%|████▌     | 5824/12724 [26:20<30:55,  3.72it/s] 48%|████▊     | 6048/12724 [27:04<29:54,  3.72it/s] 48%|████▊     | 6048/12724 [27:20<29:54,  3.72it/s] 49%|████▉     | 6272/12724 [28:04<28:54,  3.72it/s] 49%|████▉     | 6272/12724 [28:20<28:54,  3.72it/s] 51%|█████     | 6496/12724 [29:05<27:54,  3.72it/s] 51%|█████     | 6496/12724 [29:20<27:54,  3.72it/s] 53%|█████▎    | 6720/12724 [30:05<26:54,  3.72it/s] 53%|█████▎    | 6720/12724 [30:20<26:54,  3.72it/s] 55%|█████▍    | 6944/12724 [31:05<25:54,  3.72it/s] 55%|█████▍    | 6944/12724 [31:20<25:54,  3.72it/s] 56%|█████▋    | 7168/12724 [32:05<24:53,  3.72it/s] 56%|█████▋    | 7168/12724 [32:20<24:53,  3.72it/s] 58%|█████▊    | 7389/12724 [33:05<23:58,  3.71it/s] 58%|█████▊    | 7389/12724 [33:20<23:58,  3.71it/s] 60%|█████▉    | 7613/12724 [34:05<22:56,  3.71it/s] 60%|█████▉    | 7613/12724 [34:20<22:56,  3.71it/s] 62%|██████▏   | 7837/12724 [35:06<21:54,  3.72it/s] 62%|██████▏   | 7837/12724 [35:20<21:54,  3.72it/s] 63%|██████▎   | 8061/12724 [36:06<20:53,  3.72it/s] 63%|██████▎   | 8061/12724 [36:20<20:53,  3.72it/s] 65%|██████▌   | 8285/12724 [37:06<19:52,  3.72it/s] 65%|██████▌   | 8285/12724 [37:20<19:52,  3.72it/s] 67%|██████▋   | 8509/12724 [38:06<18:51,  3.72it/s] 67%|██████▋   | 8509/12724 [38:20<18:51,  3.72it/s] 69%|██████▊   | 8733/12724 [39:06<17:51,  3.72it/s] 69%|██████▊   | 8733/12724 [39:20<17:51,  3.72it/s] 70%|███████   | 8957/12724 [40:06<16:51,  3.72it/s] 70%|███████   | 8957/12724 [40:20<16:51,  3.72it/s] 72%|███████▏  | 9181/12724 [41:06<15:51,  3.72it/s] 72%|███████▏  | 9181/12724 [41:20<15:51,  3.72it/s] 74%|███████▍  | 9405/12724 [42:06<14:50,  3.73it/s] 74%|███████▍  | 9405/12724 [42:20<14:50,  3.73it/s] 76%|███████▌  | 9629/12724 [43:06<13:50,  3.73it/s] 76%|███████▌  | 9629/12724 [43:20<13:50,  3.73it/s] 77%|███████▋  | 9853/12724 [44:07<12:50,  3.73it/s] 77%|███████▋  | 9853/12724 [44:20<12:50,  3.73it/s] 79%|███████▉  | 10077/12724 [45:07<11:50,  3.72it/s] 79%|███████▉  | 10077/12724 [45:20<11:50,  3.72it/s] 81%|████████  | 10301/12724 [46:07<10:50,  3.72it/s] 81%|████████  | 10301/12724 [46:20<10:50,  3.72it/s] 83%|████████▎ | 10525/12724 [47:07<09:50,  3.72it/s] 83%|████████▎ | 10525/12724 [47:20<09:50,  3.72it/s] 84%|████████▍ | 10749/12724 [48:07<08:50,  3.73it/s] 84%|████████▍ | 10749/12724 [48:20<08:50,  3.73it/s] 86%|████████▌ | 10973/12724 [49:07<07:49,  3.73it/s] 86%|████████▌ | 10973/12724 [49:20<07:49,  3.73it/s] 88%|████████▊ | 11197/12724 [50:07<06:49,  3.73it/s] 88%|████████▊ | 11197/12724 [50:20<06:49,  3.73it/s] 90%|████████▉ | 11421/12724 [51:08<05:49,  3.73it/s] 90%|████████▉ | 11421/12724 [51:20<05:49,  3.73it/s] 92%|█████████▏| 11645/12724 [52:08<04:49,  3.73it/s] 92%|█████████▏| 11645/12724 [52:20<04:49,  3.73it/s] 93%|█████████▎| 11869/12724 [53:08<03:49,  3.73it/s] 93%|█████████▎| 11869/12724 [53:20<03:49,  3.73it/s] 95%|█████████▌| 12093/12724 [54:08<02:49,  3.72it/s] 95%|█████████▌| 12093/12724 [54:20<02:49,  3.72it/s] 97%|█████████▋| 12317/12724 [55:08<01:49,  3.72it/s] 97%|█████████▋| 12317/12724 [55:20<01:49,  3.72it/s] 99%|█████████▊| 12541/12724 [56:08<00:49,  3.72it/s] 99%|█████████▊| 12541/12724 [56:20<00:49,  3.72it/s]100%|██████████| 12724/12724 [56:57<00:00,  3.72it/s]
  0%|          | 0/12724 [00:00<?, ?it/s]  1%|          | 113/12724 [01:00<1:52:17,  1.87it/s]  1%|          | 113/12724 [01:12<1:52:17,  1.87it/s]  2%|▏         | 226/12724 [02:00<1:51:18,  1.87it/s]  2%|▏         | 226/12724 [02:12<1:51:18,  1.87it/s]  3%|▎         | 339/12724 [03:01<1:50:20,  1.87it/s]  3%|▎         | 339/12724 [03:12<1:50:20,  1.87it/s]  4%|▎         | 452/12724 [04:01<1:49:18,  1.87it/s]  4%|▎         | 452/12724 [04:12<1:49:18,  1.87it/s]  4%|▍         | 565/12724 [05:01<1:48:18,  1.87it/s]  4%|▍         | 565/12724 [05:12<1:48:18,  1.87it/s]  5%|▌         | 678/12724 [06:02<1:47:18,  1.87it/s]  5%|▌         | 678/12724 [06:22<1:47:18,  1.87it/s]  6%|▌         | 791/12724 [07:02<1:46:17,  1.87it/s]  6%|▌         | 791/12724 [07:22<1:46:17,  1.87it/s]  7%|▋         | 904/12724 [08:03<1:45:15,  1.87it/s]  7%|▋         | 904/12724 [08:22<1:45:15,  1.87it/s]  8%|▊         | 1017/12724 [09:03<1:44:16,  1.87it/s]  8%|▊         | 1017/12724 [09:22<1:44:16,  1.87it/s]  9%|▉         | 1130/12724 [10:03<1:43:17,  1.87it/s]  9%|▉         | 1130/12724 [10:22<1:43:17,  1.87it/s] 10%|▉         | 1243/12724 [11:04<1:42:17,  1.87it/s] 10%|▉         | 1243/12724 [11:22<1:42:17,  1.87it/s] 11%|█         | 1356/12724 [12:04<1:41:16,  1.87it/s] 11%|█         | 1356/12724 [12:22<1:41:16,  1.87it/s] 12%|█▏        | 1469/12724 [13:05<1:40:18,  1.87it/s] 12%|█▏        | 1469/12724 [13:22<1:40:18,  1.87it/s] 12%|█▏        | 1582/12724 [14:05<1:39:18,  1.87it/s] 12%|█▏        | 1582/12724 [14:22<1:39:18,  1.87it/s] 13%|█▎        | 1695/12724 [15:06<1:38:16,  1.87it/s] 13%|█▎        | 1695/12724 [15:22<1:38:16,  1.87it/s] 14%|█▍        | 1808/12724 [16:06<1:37:17,  1.87it/s] 14%|█▍        | 1808/12724 [16:22<1:37:17,  1.87it/s] 15%|█▌        | 1921/12724 [17:06<1:36:16,  1.87it/s] 15%|█▌        | 1921/12724 [17:22<1:36:16,  1.87it/s] 16%|█▌        | 2034/12724 [18:07<1:35:16,  1.87it/s] 16%|█▌        | 2034/12724 [18:22<1:35:16,  1.87it/s] 17%|█▋        | 2147/12724 [19:07<1:34:14,  1.87it/s] 17%|█▋        | 2147/12724 [19:22<1:34:14,  1.87it/s] 18%|█▊        | 2260/12724 [20:08<1:33:14,  1.87it/s] 18%|█▊        | 2260/12724 [20:22<1:33:14,  1.87it/s] 19%|█▊        | 2373/12724 [21:08<1:32:14,  1.87it/s] 19%|█▊        | 2373/12724 [21:22<1:32:14,  1.87it/s] 20%|█▉        | 2486/12724 [22:09<1:31:14,  1.87it/s] 20%|█▉        | 2486/12724 [22:22<1:31:14,  1.87it/s] 20%|██        | 2599/12724 [23:09<1:30:13,  1.87it/s] 20%|██        | 2599/12724 [23:22<1:30:13,  1.87it/s] 21%|██▏       | 2712/12724 [24:09<1:29:13,  1.87it/s] 21%|██▏       | 2712/12724 [24:22<1:29:13,  1.87it/s] 22%|██▏       | 2825/12724 [25:10<1:28:12,  1.87it/s] 22%|██▏       | 2825/12724 [25:22<1:28:12,  1.87it/s] 23%|██▎       | 2938/12724 [26:10<1:27:11,  1.87it/s] 23%|██▎       | 2938/12724 [26:22<1:27:11,  1.87it/s] 24%|██▍       | 3051/12724 [27:11<1:26:11,  1.87it/s] 24%|██▍       | 3051/12724 [27:22<1:26:11,  1.87it/s] 25%|██▍       | 3164/12724 [28:11<1:25:10,  1.87it/s] 25%|██▍       | 3164/12724 [28:22<1:25:10,  1.87it/s] 26%|██▌       | 3277/12724 [29:11<1:24:10,  1.87it/s] 26%|██▌       | 3277/12724 [29:22<1:24:10,  1.87it/s] 27%|██▋       | 3390/12724 [30:12<1:23:09,  1.87it/s] 27%|██▋       | 3390/12724 [30:32<1:23:09,  1.87it/s] 28%|██▊       | 3503/12724 [31:12<1:22:09,  1.87it/s] 28%|██▊       | 3503/12724 [31:32<1:22:09,  1.87it/s] 28%|██▊       | 3614/12724 [32:13<1:21:36,  1.86it/s] 28%|██▊       | 3614/12724 [32:32<1:21:36,  1.86it/s] 29%|██▉       | 3727/12724 [33:13<1:20:29,  1.86it/s] 29%|██▉       | 3727/12724 [33:32<1:20:29,  1.86it/s] 30%|███       | 3840/12724 [34:14<1:19:24,  1.86it/s] 30%|███       | 3840/12724 [34:32<1:19:24,  1.86it/s] 31%|███       | 3953/12724 [35:14<1:18:20,  1.87it/s] 31%|███       | 3953/12724 [35:32<1:18:20,  1.87it/s] 32%|███▏      | 4066/12724 [36:14<1:17:16,  1.87it/s] 32%|███▏      | 4066/12724 [36:32<1:17:16,  1.87it/s] 33%|███▎      | 4179/12724 [37:15<1:16:15,  1.87it/s] 33%|███▎      | 4179/12724 [37:32<1:16:15,  1.87it/s] 34%|███▎      | 4292/12724 [38:15<1:15:12,  1.87it/s] 34%|███▎      | 4292/12724 [38:32<1:15:12,  1.87it/s] 35%|███▍      | 4405/12724 [39:16<1:14:11,  1.87it/s] 35%|███▍      | 4405/12724 [39:32<1:14:11,  1.87it/s] 36%|███▌      | 4518/12724 [40:16<1:13:11,  1.87it/s] 36%|███▌      | 4518/12724 [40:32<1:13:11,  1.87it/s] 36%|███▋      | 4631/12724 [41:17<1:12:12,  1.87it/s] 36%|███▋      | 4631/12724 [41:32<1:12:12,  1.87it/s] 37%|███▋      | 4744/12724 [42:17<1:11:12,  1.87it/s] 37%|███▋      | 4744/12724 [42:32<1:11:12,  1.87it/s] 38%|███▊      | 4856/12724 [43:17<1:10:14,  1.87it/s] 38%|███▊      | 4856/12724 [43:32<1:10:14,  1.87it/s] 39%|███▉      | 4969/12724 [44:18<1:09:13,  1.87it/s] 39%|███▉      | 4969/12724 [44:32<1:09:13,  1.87it/s] 40%|███▉      | 5082/12724 [45:18<1:08:13,  1.87it/s] 40%|███▉      | 5082/12724 [45:32<1:08:13,  1.87it/s] 41%|████      | 5195/12724 [46:19<1:07:11,  1.87it/s] 41%|████      | 5195/12724 [46:32<1:07:11,  1.87it/s] 42%|████▏     | 5308/12724 [47:19<1:06:10,  1.87it/s] 42%|████▏     | 5308/12724 [47:32<1:06:10,  1.87it/s] 43%|████▎     | 5421/12724 [48:20<1:05:09,  1.87it/s] 43%|████▎     | 5421/12724 [48:32<1:05:09,  1.87it/s] 43%|████▎     | 5534/12724 [49:20<1:04:09,  1.87it/s] 43%|████▎     | 5534/12724 [49:32<1:04:09,  1.87it/s] 44%|████▍     | 5646/12724 [50:20<1:03:10,  1.87it/s] 44%|████▍     | 5646/12724 [50:32<1:03:10,  1.87it/s] 45%|████▌     | 5758/12724 [51:20<1:02:10,  1.87it/s] 45%|████▌     | 5758/12724 [51:32<1:02:10,  1.87it/s] 46%|████▌     | 5871/12724 [52:21<1:01:10,  1.87it/s] 46%|████▌     | 5871/12724 [52:32<1:01:10,  1.87it/s] 47%|████▋     | 5983/12724 [53:21<1:00:11,  1.87it/s] 47%|████▋     | 5983/12724 [53:32<1:00:11,  1.87it/s] 48%|████▊     | 6096/12724 [54:21<59:10,  1.87it/s]   48%|████▊     | 6096/12724 [54:32<59:10,  1.87it/s] 49%|████▉     | 6209/12724 [55:22<58:09,  1.87it/s] 49%|████▉     | 6209/12724 [55:42<58:09,  1.87it/s] 50%|████▉     | 6321/12724 [56:22<57:10,  1.87it/s] 50%|████▉     | 6321/12724 [56:42<57:10,  1.87it/s] 51%|█████     | 6434/12724 [57:23<56:09,  1.87it/s] 51%|█████     | 6434/12724 [57:42<56:09,  1.87it/s] 51%|█████▏    | 6547/12724 [58:23<55:08,  1.87it/s] 51%|█████▏    | 6547/12724 [58:42<55:08,  1.87it/s] 52%|█████▏    | 6660/12724 [59:24<54:07,  1.87it/s] 52%|█████▏    | 6660/12724 [59:42<54:07,  1.87it/s] 53%|█████▎    | 6773/12724 [1:00:24<53:06,  1.87it/s] 53%|█████▎    | 6773/12724 [1:00:42<53:06,  1.87it/s] 54%|█████▍    | 6886/12724 [1:01:24<52:05,  1.87it/s] 54%|█████▍    | 6886/12724 [1:01:42<52:05,  1.87it/s] 55%|█████▌    | 6999/12724 [1:02:25<51:05,  1.87it/s] 55%|█████▌    | 6999/12724 [1:02:42<51:05,  1.87it/s] 56%|█████▌    | 7112/12724 [1:03:26<50:05,  1.87it/s] 56%|█████▌    | 7112/12724 [1:03:42<50:05,  1.87it/s] 57%|█████▋    | 7225/12724 [1:04:26<49:04,  1.87it/s] 57%|█████▋    | 7225/12724 [1:04:42<49:04,  1.87it/s] 58%|█████▊    | 7338/12724 [1:05:26<48:03,  1.87it/s] 58%|█████▊    | 7338/12724 [1:05:42<48:03,  1.87it/s] 59%|█████▊    | 7451/12724 [1:06:27<47:02,  1.87it/s] 59%|█████▊    | 7451/12724 [1:06:42<47:02,  1.87it/s] 59%|█████▉    | 7564/12724 [1:07:27<46:02,  1.87it/s] 59%|█████▉    | 7564/12724 [1:07:42<46:02,  1.87it/s] 60%|██████    | 7677/12724 [1:08:28<45:00,  1.87it/s] 60%|██████    | 7677/12724 [1:08:42<45:00,  1.87it/s] 61%|██████    | 7790/12724 [1:09:28<44:00,  1.87it/s] 61%|██████    | 7790/12724 [1:09:42<44:00,  1.87it/s] 62%|██████▏   | 7903/12724 [1:10:29<42:59,  1.87it/s] 62%|██████▏   | 7903/12724 [1:10:42<42:59,  1.87it/s] 63%|██████▎   | 8016/12724 [1:11:29<41:59,  1.87it/s] 63%|██████▎   | 8016/12724 [1:11:42<41:59,  1.87it/s] 64%|██████▍   | 8129/12724 [1:12:30<40:59,  1.87it/s] 64%|██████▍   | 8129/12724 [1:12:42<40:59,  1.87it/s] 65%|██████▍   | 8241/12724 [1:13:30<40:00,  1.87it/s] 65%|██████▍   | 8241/12724 [1:13:42<40:00,  1.87it/s] 66%|██████▌   | 8354/12724 [1:14:30<38:59,  1.87it/s] 66%|██████▌   | 8354/12724 [1:14:42<38:59,  1.87it/s] 67%|██████▋   | 8467/12724 [1:15:31<37:58,  1.87it/s] 67%|██████▋   | 8467/12724 [1:15:42<37:58,  1.87it/s] 67%|██████▋   | 8580/12724 [1:16:31<36:58,  1.87it/s] 67%|██████▋   | 8580/12724 [1:16:42<36:58,  1.87it/s] 68%|██████▊   | 8693/12724 [1:17:32<35:57,  1.87it/s] 68%|██████▊   | 8693/12724 [1:17:42<35:57,  1.87it/s] 69%|██████▉   | 8806/12724 [1:18:32<34:57,  1.87it/s] 69%|██████▉   | 8806/12724 [1:18:52<34:57,  1.87it/s] 70%|███████   | 8918/12724 [1:19:32<33:58,  1.87it/s] 70%|███████   | 8918/12724 [1:19:52<33:58,  1.87it/s] 71%|███████   | 9030/12724 [1:20:32<32:59,  1.87it/s] 71%|███████   | 9030/12724 [1:20:52<32:59,  1.87it/s] 72%|███████▏  | 9142/12724 [1:21:32<31:59,  1.87it/s] 72%|███████▏  | 9142/12724 [1:21:52<31:59,  1.87it/s] 73%|███████▎  | 9254/12724 [1:22:32<30:59,  1.87it/s] 73%|███████▎  | 9254/12724 [1:22:52<30:59,  1.87it/s] 74%|███████▎  | 9366/12724 [1:23:32<29:59,  1.87it/s] 74%|███████▎  | 9366/12724 [1:23:52<29:59,  1.87it/s] 74%|███████▍  | 9478/12724 [1:24:32<28:59,  1.87it/s] 74%|███████▍  | 9478/12724 [1:24:52<28:59,  1.87it/s] 75%|███████▌  | 9591/12724 [1:25:33<27:58,  1.87it/s] 75%|███████▌  | 9591/12724 [1:25:52<27:58,  1.87it/s] 76%|███████▋  | 9703/12724 [1:26:33<26:59,  1.87it/s] 76%|███████▋  | 9703/12724 [1:26:52<26:59,  1.87it/s] 77%|███████▋  | 9815/12724 [1:27:33<25:59,  1.87it/s] 77%|███████▋  | 9815/12724 [1:27:52<25:59,  1.87it/s] 78%|███████▊  | 9927/12724 [1:28:33<24:59,  1.87it/s] 78%|███████▊  | 9927/12724 [1:28:52<24:59,  1.87it/s] 79%|███████▉  | 10039/12724 [1:29:33<23:59,  1.86it/s] 79%|███████▉  | 10039/12724 [1:29:52<23:59,  1.86it/s] 80%|███████▉  | 10151/12724 [1:30:33<22:59,  1.87it/s] 80%|███████▉  | 10151/12724 [1:30:52<22:59,  1.87it/s] 81%|████████  | 10263/12724 [1:31:33<21:59,  1.87it/s] 81%|████████  | 10263/12724 [1:31:52<21:59,  1.87it/s] 82%|████████▏ | 10375/12724 [1:32:33<20:59,  1.87it/s] 82%|████████▏ | 10375/12724 [1:32:52<20:59,  1.87it/s] 82%|████████▏ | 10487/12724 [1:33:33<19:59,  1.87it/s] 82%|████████▏ | 10487/12724 [1:33:52<19:59,  1.87it/s] 83%|████████▎ | 10600/12724 [1:34:34<18:58,  1.87it/s] 83%|████████▎ | 10600/12724 [1:34:52<18:58,  1.87it/s] 84%|████████▍ | 10712/12724 [1:35:34<17:58,  1.87it/s] 84%|████████▍ | 10712/12724 [1:35:52<17:58,  1.87it/s] 85%|████████▌ | 10825/12724 [1:36:34<16:57,  1.87it/s] 85%|████████▌ | 10825/12724 [1:36:52<16:57,  1.87it/s] 86%|████████▌ | 10938/12724 [1:37:35<15:56,  1.87it/s] 86%|████████▌ | 10938/12724 [1:37:52<15:56,  1.87it/s] 87%|████████▋ | 11050/12724 [1:38:35<14:56,  1.87it/s] 87%|████████▋ | 11050/12724 [1:38:52<14:56,  1.87it/s] 88%|████████▊ | 11160/12724 [1:39:35<14:04,  1.85it/s] 88%|████████▊ | 11160/12724 [1:39:52<14:04,  1.85it/s] 89%|████████▊ | 11273/12724 [1:40:36<13:01,  1.86it/s] 89%|████████▊ | 11273/12724 [1:40:52<13:01,  1.86it/s] 89%|████████▉ | 11386/12724 [1:41:36<11:59,  1.86it/s] 89%|████████▉ | 11386/12724 [1:41:52<11:59,  1.86it/s] 90%|█████████ | 11499/12724 [1:42:37<10:57,  1.86it/s] 90%|█████████ | 11499/12724 [1:42:52<10:57,  1.86it/s] 91%|█████████▏| 11612/12724 [1:43:37<09:56,  1.86it/s] 91%|█████████▏| 11612/12724 [1:43:52<09:56,  1.86it/s] 92%|█████████▏| 11725/12724 [1:44:38<08:55,  1.87it/s] 92%|█████████▏| 11725/12724 [1:44:52<08:55,  1.87it/s] 93%|█████████▎| 11837/12724 [1:45:38<07:55,  1.87it/s] 93%|█████████▎| 11837/12724 [1:45:52<07:55,  1.87it/s] 94%|█████████▍| 11950/12724 [1:46:38<06:54,  1.87it/s] 94%|█████████▍| 11950/12724 [1:46:52<06:54,  1.87it/s] 95%|█████████▍| 12063/12724 [1:47:39<05:54,  1.87it/s] 95%|█████████▍| 12063/12724 [1:47:52<05:54,  1.87it/s] 96%|█████████▌| 12176/12724 [1:48:39<04:53,  1.87it/s] 96%|█████████▌| 12176/12724 [1:48:52<04:53,  1.87it/s] 97%|█████████▋| 12289/12724 [1:49:40<03:52,  1.87it/s] 97%|█████████▋| 12289/12724 [1:49:52<03:52,  1.87it/s] 97%|█████████▋| 12401/12724 [1:50:40<02:53,  1.87it/s] 97%|█████████▋| 12401/12724 [1:50:52<02:53,  1.87it/s] 98%|█████████▊| 12513/12724 [1:51:40<01:53,  1.87it/s] 98%|█████████▊| 12513/12724 [1:51:52<01:53,  1.87it/s] 99%|█████████▉| 12626/12724 [1:52:40<00:52,  1.87it/s] 99%|█████████▉| 12626/12724 [1:52:52<00:52,  1.87it/s]100%|██████████| 12724/12724 [1:53:33<00:00,  1.87it/s]
      sub_label obj_label relation                                   masked_sentences                                         sub_sister  uuid  sub_position sub_label_sg  sub_label_pl                                            def_sap                                            def_dap                                            lsp_sap                                            lsp_dap                                     anchor_lsp_sap                         sub_label_sgpl  obj_in_BERT                                  obj_mask_sentence                            obj_mask_sentence_score                                   obj_mask_def_sap                             obj_mask_def_sap_score                                   obj_mask_lsp_sap                             obj_mask_lsp_sap_score                               subj_anchors_wordnet                         subj_anchors_wordnet_score                            subj_anchors_wordnet_sg  \
0          golo   [river]      IsA        [A golo is a [MASK]., A golo is an [MASK].]                                                 []     0             2         golo          golo  [a golo is a [MASK]., a golo is a type of [MAS...  [a golo or [Z] is a [MASK]., a golo or [Z] is ...  [[MASK] such as golo., [MASK], including golo....  [[MASK] such as golo and [Z]., [MASK], includi...  [such as golo and [MASK]., such as golo or [MA...                         golo golo golo            1  [animal, elephant, donkey, dog, fish, eel, acc...  {'animal': -6.888653904527905, 'elephant': -8....  [fish, drum, bird, boat, dog, donkey, canoe, p...  {'fish': -9.915112659666699, 'drum': -10.30261...  [story, yes, poems, place, people, animal, thi...  {'stories': -8.78155184429648, 'yes': -9.04343...  [human, bird, dog, animal, italy, cow, horse, ...  {'human': 0.10946393013000488, 'bird': 0.04091...                  [human, bird, dog, animal, italy]   
1     kerrobert    [town]      IsA  [A kerrobert is a [MASK]., A kerrobert is an [...                                                 []     1             2    kerrobert     kerrobert  [a kerrobert is a [MASK]., a kerrobert is a ty...  [a kerrobert or [Z] is a [MASK]., a kerrobert ...  [[MASK] such as kerrobert., [MASK], including ...  [[MASK] such as kerrobert and [Z]., [MASK], in...  [such as kerrobert and [MASK]., such as kerrob...          kerrobert kerrobert kerrobert            1  [asteroid, acronym, aircraft, automobile, umbr...  {'asteroid': -9.461400115751571, 'acronym': -1...  [reactor, robot, explosive, cannon, bomb, ball...  {'reactor': -10.873440118965053, 'robot': -11....  [company, brand, works, name, place, source, w...  {'companies': -9.819514575902069, 'brands': -1...  [human, germany, france, robert, person, man, ...  {'human': 0.020311232656240463, 'germany': 0.0...           [human, germany, france, robert, person]   
2     geometria    [film]      IsA  [A geometria is a [MASK]., A geometria is an [...                                                 []     2             2    geometria     geometria  [a geometria is a [MASK]., a geometria is a ty...  [a geometria or [Z] is a [MASK]., a geometria ...  [[MASK] such as geometria., [MASK], including ...  [[MASK] such as geometria and [Z]., [MASK], in...  [such as geometria and [MASK]., such as geomet...          geometria geometria geometria            1  [object, algebra, manifold, dimension, surface...  {'object': -6.18670296737651, 'algebra': -7.88...  [manifold, geometry, space, structure, surface...  {'manifold': -7.623828773356801, 'geometry': -...  [geometry, mathematics, object, thing, concept...  {'geometry': -7.179117777640198, 'mathematics'...  [geometry, spheres, mathematics, physics, astr...  {'geometry': 0.1543659440834414, 'spheres': 0....  [geometry, sphere, mathematics, physics, astro...   
3  evaporations   [place]      IsA  [An evaporation is a [MASK]., An evaporation i...  [melting, vapour, thawing, thaw, vaporisation,...     3             3  evaporation  evaporations  [an evaporation is a [MASK]., an evaporation i...  [an evaporation or [Z] is a [MASK]., an evapor...  [[MASK] such as evaporations., [MASK], includi...  [[MASK] such as evaporations and [Z]., [MASK],...  [such as evaporations and [MASK]., such as eva...  evaporations evaporation evaporations            1  [process, explosion, precipitation, expansion,...  {'process': -7.783032526316761, 'explosion': -...  [precipitation, process, liquid, reaction, dro...  {'precipitation': -6.517468626047083, 'process...  [phenomenon, precipitation, process, liquid, f...  {'phenomena': -7.646275684013182, 'precipitati...  [precipitation, convection, water, rain, vapor...  {'precipitation': 0.1365729719400406, 'convect...    [precipitation, convection, water, rain, vapor]   
4     boneheads    [band]      IsA  [A bonehead is a [MASK]., A bonehead is an [MA...  [knucklehead, hammerhead, loggerhead, dumbass,...     4             2     bonehead     boneheads  [a bonehead is a [MASK]., a bonehead is a type...  [a bonehead or [Z] is a [MASK]., a bonehead or...  [[MASK] such as boneheads., [MASK], including ...  [[MASK] such as boneheads and [Z]., [MASK], in...  [such as boneheads and [MASK]., such as bonehe...           boneheads bonehead boneheads            1  [animal, individual, actor, insect, anchor, el...  {'animal': -7.760352993909391, 'individual': -...  [fish, turtle, bird, bone, animal, catfish, pi...  {'fish': -9.285614179926169, 'turtle': -9.8092...  [yeah, bone, people, thing, animal, band, yes,...  {'yeah': -8.830292573364021, 'bones': -9.55534...  [women, apparently, idiots, human, maybe, skul...  {'women': 0.05045162979513407, 'apparently': 0...           [woman, apparently, idiot, human, maybe]   

                             subj_anchors_wordnet_pl                           subj_anchors_wordnet_all                  subj_anchors_combined  anchor_num                           def_dap_with_subj_anchor                           lsp_dap_with_subj_anchor                                   obj_mask_def_dap                             obj_mask_def_dap_score                                   obj_mask_lsp_dap                             obj_mask_lsp_dap_score  
0               [human, birds, dogs, animals, italy]  [human, bird, dog, animal, italy, cow, horse, ...                         golo golo golo          10  [a golo or a human is a [MASK]., a golo or a b...  [[MASK] such as golo and human., [MASK] such a...  [animal, bird, dog, human, fish, creature, per...  {'animal': -8.453092909668728, 'bird': -8.9341...  [animal, dog, country, thing, creature, bird, ...  {'animals': -7.056320994508575, 'dogs': -10.10...  
1          [human, germany, france, robert, persons]  [human, germany, france, robert, person, man, ...          kerrobert kerrobert kerrobert          10  [a kerrobert or a human is a [MASK]., a kerrob...  [[MASK] such as kerrobert and human., [MASK] s...  [robot, person, human, animal, car, bird, ship...  {'robot': -9.927339991055504, 'person': -10.26...  [company, brand, place, country, france, artis...  {'companies': -8.79763481047723, 'brands': -9....  
2  [geometries, spheres, mathematics, physics, as...  [geometry, sphere, mathematics, physics, astro...          geometria geometria geometria          10  [a geometria or a geometry is a [MASK]., a geo...  [[MASK] such as geometria and geometries., [MA...  [geometry, space, manifold, mathematics, dimen...  {'geometry': -6.5387478598312905, 'space': -8....  [topic, subject, field, mathematics, geometry,...  {'topics': -8.708573551386543, 'subjects': -8....  
3  [precipitations, convection, waters, rains, va...  [precipitation, convection, water, rain, vapor...  evaporations evaporation evaporations          10  [an evaporation or a precipitation is a [MASK]...  [[MASK] such as evaporations and precipitation...  [precipitation, liquid, process, reaction, rai...  {'precipitation': -6.78301539070394, 'liquid':...  [phenomenon, precipitation, process, thing, ev...  {'phenomena': -7.451663052150623, 'precipitati...  
4          [women, apparently, idiots, human, maybe]  [woman, apparently, idiot, human, maybe, skull...           boneheads bonehead boneheads          10  [a bonehead or a woman is a [MASK]., a bonehea...  [[MASK] such as boneheads and women., [MASK] s...  [animal, human, person, fish, woman, man, bone...  {'animal': -9.642568288317667, 'human': -9.844...  [thing, people, yeah, yes, animal, group, woma...  {'things': -8.589455347830842, 'people': -9.00...  
---------------------------------------- anchor evaluation ----------------------------------------
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:809: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'p{k}_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: concept_evaluation(x[0], eval(x[1])[:k] if isinstance(x[1], str) else x[1][:k]), axis=1 )
anchored_prompts.py:882: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'mrr_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: get_highest_mrr_among_labels(x[0], x[1]), axis=1 )
anchored_prompts.py:882: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df[f'mrr_{suffix}'] = df[[label_col, pred_col]].apply(lambda x: get_highest_mrr_among_labels(x[0], x[1]), axis=1 )
begin{tabular}{rlrrrr}
hline
    	 mask_type                	   p@1 	   p@5 	   p@10 	   mrr 
hline
  0 	 subj_anchors_wordnet_sg  	  28.4 	  51.3 	   51.3 	  37.1 
  1 	 subj_anchors_wordnet_all 	  28.4 	  51.3 	   59   	  38.1 
hline
end{tabular}
---------------------------------------- obj_label evaluation ----------------------------------------
begin{tabular}{rlrrrrr}
hline
    	 mask_type   	   p@1 	   p@5 	   p@10 	   mrr 	   mask_type_id 
hline
  1 	 def_sap     	   3.8 	   9.7 	   12.8 	   6.3 	              1 
  2 	 lsp_sap     	   4.7 	  15.4 	   22.1 	   9.4 	              3 
  3 	 def_dap     	   4.6 	  11.6 	   16.1 	   7.6 	              2 
  4 	 lsp_dap     	   5.3 	  16.2 	   22   	   9.9 	              4 
hline
end{tabular}
save log/bert-large-uncased/hypernymsuite/SHWARTZ/df_all_use_global_dap_True_max_anchor_num_5_anchor_scorer_probAvg_filter_obj_True_filter_objects_with_input_True_anchor_source_WordNet_wns_True_wnf_False_swow_score_source_None.SHWARTZ.tsv
save log/bert-large-uncased/hypernymsuite/SHWARTZ/df_all_use_global_dap_True_max_anchor_num_5_anchor_scorer_probAvg_filter_obj_True_filter_objects_with_input_True_anchor_source_WordNet_wns_True_wnf_False_swow_score_source_None.SHWARTZ.csv
